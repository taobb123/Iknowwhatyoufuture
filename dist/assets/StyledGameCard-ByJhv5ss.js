import{u as y,a as G,j as e,H as d,C as P,S as V}from"./index-CNCBtjWD.js";import{P as U,e as R}from"./useGameData-BLvu6TrE.js";const b=(r,o)=>({racing:o.colors.error,action:o.colors.warning,adventure:o.colors.success,puzzle:o.colors.primary,shooting:o.colors.accent,rpg:o.colors.secondary,arcade:o.colors.warning,io:o.colors.primary,casual:o.colors.success,other:o.colors.textSecondary})[r||"other"]||o.colors.textSecondary,p=r=>{switch(r){case"compact":return"h-32";case"detailed":return"h-64";default:return"h-48"}},Z=({game:r,variant:o="homepage",onPlay:t,onToggleFavorite:i,isFavorite:n=!1,showRating:j=!0,showControls:g=!0,className:u=""})=>{const{currentTheme:s}=y(),{t:l}=G(),N=()=>{t&&t(r.id)},x=a=>{a.stopPropagation(),i&&i(r.id)},S=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),N())},k=p(o),I=b(r.category,s),m={backgroundColor:s.components.gameCard.background,borderColor:s.components.gameCard.border,boxShadow:s.components.gameCard.shadow,borderRadius:s.borderRadius.lg,transition:"all 0.3s ease",cursor:"pointer",overflow:"hidden",border:o==="featured"?`2px solid ${s.colors.warning}`:`1px solid ${s.components.gameCard.border}`},M={transform:o==="homepage"||o==="featured"?"scale(1.05)":"scale(1.02)",boxShadow:s.components.gameCard.hover.shadow};return e.jsxs("div",{className:`${u} transition-all duration-300 hover:scale-105`,style:m,onClick:N,onKeyDown:S,role:"button",tabIndex:0,"aria-label":`打开游戏: ${r.title}`,onMouseEnter:a=>{Object.assign(a.currentTarget.style,M)},onMouseLeave:a=>{a.currentTarget.style.transform="scale(1)",a.currentTarget.style.boxShadow=s.components.gameCard.shadow},children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.image,alt:r.title,className:`w-full ${k} object-cover`,loading:"lazy",onError:a=>{const c=a.target;c.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjczIiBoZWlnaHQ9IjE1MyIgdmlld0JveD0iMCAwIDI3MyAxNTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNzMiIGhlaWdodD0iMTUzIiBmaWxsPSIjMzc0MTUxIi8+CjxwYXRoIGQ9Ik0xMzYuNSAzNy41QzE0MS4zIDM3LjUgMTQ1LjEgNDEuMyAxNDUuMSA0Ni4xVjEwNi45QzE0NS4xIDExMS43IDE0MS4zIDExNS41IDEzNi41IDExNS41SDQ2LjFDNDEuMyAxMTUuNSAzNy41IDExMS43IDM3LjUgMTA2LjlWNDYuMUMzNy41IDQxLjMgNDEuMyAzNy41IDQ2LjEgMzcuNUgxMzYuNVoiIGZpbGw9IiM2MzY2RjEiLz4KPHBhdGggZD0iTTEwOS41IDY5LjVIMTEzLjVWNzMuNUgxMDkuNVY2OS41WiIgZmlsbD0iI0ZGRkZGRiIvPgo8cGF0aCBkPSJNMTE3LjUgNjkuNUgxMjEuNVY3My41SDExNy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTI1LjUgNjkuNUgxMjkuNVY3My41SDEyNS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTMzLjUgNjkuNUgxMzcuNVY3My41SDEzMy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQxLjUgNjkuNUgxNDUuNVY3My41SDE0MS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgNjkuNUgxNTMuNVY4MS41SDE0OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgNzcuNUgxNjEuNVY4MS41SDE1Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgNzcuNUgxNjkuNVY4MS41SDE2NS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgNzcuNUgxNzcuNVY4MS41SDE3My41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgNzcuNUgxODUuNVY4MS41SDE4MS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgNzcuNUgxOTMuNVY4MS41SDE4OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgNzcuNUgyMDEuNVY4MS41SDE5Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgODUuNUgxNTMuNVY4OS41SDE0OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgODUuNUgxNjEuNVY4OS41SDE1Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgODUuNUgxNjkuNVY4OS41SDE2NS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgODUuNUgxNzcuNVY4OS41SDE3My41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgODUuNUgxODUuNVY4OS41SDE4MS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgODUuNUgxOTMuNVY4OS41SDE4OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgODUuNUgyMDEuNVY4OS41SDE5Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgOTMuNUgxNTMuNVY5Ny41SDE0OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgOTMuNUgxNjEuNVY5Ny41SDE1Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgOTMuNUgxNjkuNVY5Ny41SDE2NS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgOTMuNUgxNzcuNVY5Ny41SDE3My41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgOTMuNUgxODUuNVY5Ny41SDE4MS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgOTMuNUgxOTMuNVY5Ny41SDE4OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgOTMuNUgyMDEuNVY5Ny41SDE5Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8L3N2Zz4K"}}),e.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:I,borderRadius:s.borderRadius.sm},children:r.category||"其他"}),r.isNew&&e.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 text-white text-xs font-semibold rounded",style:{backgroundColor:s.colors.success,borderRadius:s.borderRadius.sm},children:l("games.newGame")}),i&&e.jsx("button",{onClick:x,className:"absolute bottom-2 right-2 p-2 backdrop-blur-md rounded-full text-white transition-all duration-200 hover:scale-110",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:s.borderRadius.full},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.7)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.5)"},"aria-label":l(n?"games.removeFavorite":"games.addFavorite"),children:e.jsx(d,{size:16,className:n?"text-red-500 fill-current":"text-white"})}),e.jsx("div",{className:"absolute inset-0 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100",style:{backgroundColor:"rgba(0, 0, 0, 0)"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.2)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0)"},children:e.jsx("div",{className:"backdrop-blur-md rounded-full p-3",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:s.borderRadius.full},children:e.jsx(U,{size:24,className:"text-white"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-1",style:{color:s.components.gameCard.title.color,fontSize:s.components.gameCard.title.fontSize},children:r.title}),e.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:s.components.gameCard.description.color,fontSize:s.components.gameCard.description.fontSize},children:r.description}),j&&e.jsx("div",{className:"mb-3",children:e.jsx(R,{gameId:r.id,onRatingChange:()=>{}})}),o!=="compact"&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:r.features.slice(0,o==="detailed"?6:3).map((a,c)=>e.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:s.colors.surface,color:s.colors.textSecondary,borderRadius:s.borderRadius.sm},children:a},c))}),e.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",style:{color:s.colors.textSecondary},children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{size:14,className:"text-red-400"}),e.jsx("span",{children:r.likes})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{size:14,className:"text-blue-400"}),e.jsx("span",{children:r.duration})]}),o==="detailed"&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{size:14,className:"text-yellow-400"}),e.jsxs("span",{children:[(r.likes/1e3).toFixed(1),"k"]})]})]}),g&&o!=="compact"&&e.jsx("div",{className:"text-xs",style:{color:s.colors.textSecondary},children:e.jsx("div",{className:"flex flex-wrap gap-2",children:r.controls.slice(0,o==="detailed"?4:2).map((a,c)=>e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",style:{color:s.colors.textSecondary},children:a.key}),": ",a.action]},c))})})]})]})};export{Z as S};
