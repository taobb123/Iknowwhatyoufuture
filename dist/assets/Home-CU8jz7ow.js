import{c as L,j as e,u as E,r as c,L as G,G as w,H as T,S as k,R,X as F}from"./index-DjexH7CO.js";import{R as M,G as z,u as I,a as H,S as U}from"./useGameData-DKu72nxd.js";import{S as _}from"./StyledGameCard-Br8oqtUg.js";import{T as C}from"./target-CmoLSkTd.js";import{T as $}from"./trending-up-DQgm_wOc.js";import{U as D}from"./users-qpxo8WxU.js";import"./home-B4cfoAdL.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=L("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),A=({error:o,onRetry:t,className:n="",showRetry:s=!0})=>{const l=typeof o=="string"?o:o.message;return e.jsx("div",{className:`mb-8 p-4 bg-red-900/20 border border-red-500/30 rounded-lg ${n}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(P,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-red-400 font-semibold mb-1",children:"å‡ºç°é”™è¯¯"}),e.jsx("p",{className:"text-red-300 text-sm",children:l}),s&&t&&e.jsxs("button",{onClick:t,className:"mt-3 inline-flex items-center space-x-2 px-3 py-1.5 bg-red-600/20 hover:bg-red-600/30 text-red-300 rounded-md text-sm transition-colors",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"é‡è¯•"})]})]})]})})},S=[{id:"all",name:"å…¨éƒ¨æ¸¸æˆ",icon:w,color:"from-blue-500 to-purple-600",hoverColor:"hover:from-blue-600 hover:to-purple-700",count:0},{id:"casual",name:"ä¼‘é—²æ¸¸æˆ",icon:k,color:"from-blue-500 to-cyan-600",hoverColor:"hover:from-blue-600 hover:to-cyan-700",count:0},{id:"action",name:"åŠ¨ä½œæ¸¸æˆ",icon:C,color:"from-green-500 to-teal-600",hoverColor:"hover:from-green-600 hover:to-teal-700",count:0},{id:"puzzle",name:"ç›Šæ™ºæ¸¸æˆ",icon:k,color:"from-yellow-500 to-amber-600",hoverColor:"hover:from-yellow-600 hover:to-amber-700",count:0},{id:"adventure",name:"å†’é™©æ¸¸æˆ",icon:$,color:"from-purple-500 to-pink-600",hoverColor:"hover:from-purple-600 hover:to-pink-700",count:0},{id:"io",name:"IOæ¸¸æˆ",icon:D,color:"from-purple-500 to-indigo-600",hoverColor:"hover:from-purple-600 hover:to-indigo-700",count:0},{id:"shooting",name:"å°„å‡»æ¸¸æˆ",icon:C,color:"from-red-600 to-orange-600",hoverColor:"hover:from-red-700 hover:to-orange-700",count:0},{id:"other",name:"å…¶ä»–æ¸¸æˆ",icon:w,color:"from-gray-500 to-slate-600",hoverColor:"hover:from-gray-600 hover:to-slate-700",count:0}],B=({games:o,allGames:t,isLoading:n=!1,error:s,onPlay:l,onToggleFavorite:h,onCategoryChange:x,selectedCategory:f="all",className:g="",emptyMessage:i="æš‚æ— æ¸¸æˆ"})=>{var N;const{currentTheme:r}=E(),b=f,p=t&&t.length>0?t:o,v=c.useMemo(()=>S.map(u=>{const d=u.id==="all"?p.length:p.filter(m=>(m.category||"other")===u.id).length;return{...u,count:d}}),[p]),y=c.useCallback(a=>{a!==b&&(x==null||x(a))},[b,x]),j=o;return s?e.jsx(A,{error:s,className:g}):n?e.jsx("div",{className:`flex items-center justify-center py-12 ${g}`,children:e.jsx(G,{text:"æ­£åœ¨åŠ è½½æ¸¸æˆ..."})}):e.jsxs("div",{className:`rounded-2xl p-6 shadow-2xl ${g}`,style:{background:`linear-gradient(135deg, ${r.colors.surface}, ${r.colors.background}, ${r.colors.surface})`,borderRadius:r.borderRadius.xl,boxShadow:r.shadows.xl},children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",style:{color:r.colors.text},children:[e.jsx(w,{className:"w-6 h-6 mr-2",style:{color:r.colors.secondary}}),"æ¸¸æˆåˆ†ç±»"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:v.map(a=>{const u=a.icon,d=b===a.id;return e.jsxs("button",{onClick:()=>y(a.id),className:"relative group p-4 rounded-xl transition-all duration-300 transform",style:{backgroundColor:d?r.colors.primary:r.colors.surface,borderRadius:r.borderRadius.xl,border:`2px solid ${d?r.colors.accent:"transparent"}`,transform:d?"scale(1.05)":"scale(1)",boxShadow:d?r.shadows.lg:"none"},onMouseEnter:m=>{d||(m.currentTarget.style.backgroundColor=r.colors.hover,m.currentTarget.style.transform="scale(1.05)",m.currentTarget.style.boxShadow=r.shadows.lg,m.currentTarget.style.borderColor=r.colors.border)},onMouseLeave:m=>{d||(m.currentTarget.style.backgroundColor=r.colors.surface,m.currentTarget.style.transform="scale(1)",m.currentTarget.style.boxShadow="none",m.currentTarget.style.borderColor="transparent")},children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("div",{className:"p-3 rounded-lg transition-all duration-300",style:{backgroundColor:d?"rgba(255, 255, 255, 0.2)":r.colors.hover,borderRadius:r.borderRadius.lg},children:e.jsx(u,{className:"w-6 h-6",style:{color:r.colors.text}})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold",style:{color:r.colors.text},children:a.name}),e.jsxs("div",{className:"text-xs",style:{color:r.colors.textSecondary},children:[a.count," ä¸ªæ¸¸æˆ"]})]})]}),d&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full animate-pulse",style:{backgroundColor:r.colors.secondary,borderRadius:r.borderRadius.full}})]},a.id)})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold",style:{color:r.colors.text},children:[b==="all"?"æ‰€æœ‰æ¸¸æˆ":(N=S.find(a=>a.id===b))==null?void 0:N.name,e.jsxs("span",{className:"ml-2 text-sm",style:{color:r.colors.textSecondary},children:["(",j.length," ä¸ªæ¸¸æˆ)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",style:{color:r.colors.textSecondary},children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:"ç‚¹å‡»æ”¶è—å–œæ¬¢çš„æ¸¸æˆ"})]})]}),j.length===0?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",style:{color:r.colors.textSecondary},children:"ğŸ®"}),e.jsx("p",{className:"text-lg",style:{color:r.colors.textSecondary},children:i}),e.jsx("p",{className:"text-sm mt-2",style:{color:r.colors.textSecondary},children:"è¯•è¯•é€‰æ‹©å…¶ä»–åˆ†ç±»"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:j.map(a=>e.jsx(z,{children:e.jsx(_,{game:a,variant:"homepage",onPlay:l,onToggleFavorite:h,showRating:!0,showControls:!0})},a.id))})]})]})},O=()=>{const[o,t]=c.useState(!1);c.useEffect(()=>{const s=()=>{const l=!!document.fullscreenElement;t(l)};return document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("mozfullscreenchange",s),document.addEventListener("MSFullscreenChange",s),()=>{document.removeEventListener("fullscreenchange",s),document.removeEventListener("webkitfullscreenchange",s),document.removeEventListener("mozfullscreenchange",s),document.removeEventListener("MSFullscreenChange",s)}},[]);const n=c.useCallback(async()=>{try{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(s){console.error("å…¨å±åˆ‡æ¢å¤±è´¥:",s)}},[]);return{isFullscreen:o,toggleFullscreen:n}},q=({adSlot:o,adFormat:t="auto",adStyle:n={display:"block"},className:s=""})=>(R.useEffect(()=>{const l=document.createElement("script");l.async=!0,l.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_PUBLISHER_ID",l.crossOrigin="anonymous",document.querySelector('script[src*="googlesyndication.com"]')||document.head.appendChild(l);try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch{}},[]),e.jsx("div",{className:`ad-banner ${s}`,children:e.jsx("ins",{className:"adsbygoogle",style:n,"data-ad-client":"ca-pub-YOUR_PUBLISHER_ID","data-ad-slot":o,"data-ad-format":t,"data-full-width-responsive":"true"})})),Y=({game:o,isOpen:t,onClose:n,isLoading:s=!1,onLoadComplete:l})=>{const{isFullscreen:h,toggleFullscreen:x}=O(),[f,g]=c.useState(!0);return c.useEffect(()=>{const i=r=>{r.key==="Escape"&&t&&n()};if(t)return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[t,n]),c.useEffect(()=>{if(t&&o){g(!0);const i=setTimeout(()=>{g(!1),l==null||l()},2e3);return()=>clearTimeout(i)}},[t,o,l]),!t||!o?null:e.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col animate-in fade-in duration-300",onClick:n,children:[e.jsx("div",{className:"flex-shrink-0 z-10",onClick:i=>i.stopPropagation(),children:e.jsx("div",{className:"bg-gradient-to-b from-black/90 to-transparent p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-white drop-shadow-lg",children:o.title}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:x,className:"p-3 bg-black/50 hover:bg-black/70 backdrop-blur-md rounded-xl text-white transition-all duration-200 hover:scale-110 hover:shadow-lg border border-white/20 hover:border-white/40",title:h?"é€€å‡ºå…¨å±":"å…¨å±",children:h?"â¤“":"â¤¢"}),e.jsx("button",{onClick:n,className:"p-3 bg-black/50 hover:bg-red-600/70 backdrop-blur-md rounded-xl text-white transition-all duration-200 hover:scale-110 hover:shadow-lg border border-white/20 hover:border-red-400/60",title:"å…³é—­æ¸¸æˆ",children:e.jsx(F,{size:20})})]})]})})}),e.jsxs("div",{className:"flex-1 relative",onClick:i=>i.stopPropagation(),children:[(s||f)&&e.jsx("div",{className:"absolute top-4 right-4 z-30",children:e.jsx(q,{adSlot:"0987654321",adFormat:"rectangle",className:"w-48 h-32 bg-gray-800 rounded-lg"})}),e.jsxs("div",{className:"w-full h-full bg-black relative overflow-hidden",children:[(s||f)&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-20",children:e.jsx(G,{text:"æ­£åœ¨åŠ è½½æ¸¸æˆ..."})}),e.jsxs("div",{className:"w-full h-full relative game-iframe-container",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .game-iframe-container iframe {
                  width: 100% !important;
                  height: 100% !important;
                  border: none !important;
                  outline: none !important;
                  position: relative;
                  z-index: 1;
                }
                
                .game-iframe-container iframe {
                  filter: contrast(1.05) brightness(1.02) saturate(1.1);
                  transform: scale(1.01);
                  transform-origin: center;
                }
                
                .game-iframe-container::before {
                  content: '';
                  position: absolute;
                  top: 0;
                  left: 0;
                  right: 0;
                  height: 80px;
                  background: linear-gradient(to bottom, rgba(0,0,0,0.95), rgba(0,0,0,0.7), transparent);
                  z-index: 10;
                  pointer-events: none;
                }
                
                .game-iframe-container::after {
                  content: '';
                  position: absolute;
                  bottom: 0;
                  left: 0;
                  right: 0;
                  height: 100px;
                  background: linear-gradient(to top, rgba(0,0,0,0.95), rgba(0,0,0,0.7), transparent);
                  z-index: 10;
                  pointer-events: none;
                }
              `}}),e.jsx("div",{className:"w-full h-full relative",dangerouslySetInnerHTML:{__html:o.iframe}})]})]})]})]})},K=()=>{const[o,t]=c.useState(null),[n,s]=c.useState(!1),[l,h]=c.useState(!1),x=c.useCallback(i=>{t(i),s(!0),h(!0)},[]),f=c.useCallback(()=>{t(null),s(!1),h(!1)},[]),g=c.useCallback(()=>{h(!1)},[]);return{selectedGame:o,isModalOpen:n,isGameLoading:l,openGame:x,closeGame:f,handleLoadComplete:g}};function re(){const{games:o,filteredGames:t,isLoading:n,error:s,selectedCategory:l}=I(),{toggleFavorite:h,setCategory:x}=H(),{selectedGame:f,isModalOpen:g,isGameLoading:i,openGame:r,closeGame:b,handleLoadComplete:p}=K(),{currentTheme:v}=E(),y=l,j=u=>{const d=t.find(m=>m.id===u);d&&r(d)},N=u=>{h(u)},a=c.useCallback(u=>{u!==y&&x(u)},[y,x]);return e.jsxs("div",{className:"min-h-screen text-white",style:{backgroundColor:v.colors.background},children:[e.jsx("div",{className:"pt-16"}),e.jsx(U,{title:"çƒ­é—¨æ¸¸æˆä¸­å¿ƒ - å…è´¹åœ¨çº¿æ¸¸æˆ | Iknowwhatyoufuture",description:"ä½“éªŒæ— å¿§æ— è™‘çš„æ¸¸æˆæ—¶å…‰ï¼ç²¾é€‰æœ€çƒ­é—¨çš„å…è´¹åœ¨çº¿æ¸¸æˆï¼ŒåŒ…å«åŠ¨ä½œã€å†’é™©ã€ç›Šæ™ºã€ä¼‘é—²ç­‰å¤šç§ç±»å‹ï¼Œæ— éœ€ä¸‹è½½å³å¯ç•…ç©ï¼Œè®©æ‚¨äº«å—è½»æ¾æ„‰å¿«çš„æ¸¸æˆä½“éªŒï¼",keywords:"çƒ­é—¨æ¸¸æˆ,åœ¨çº¿æ¸¸æˆ,å…è´¹æ¸¸æˆ,æ¸¸æˆä¸­å¿ƒ,åŠ¨ä½œæ¸¸æˆ,å†’é™©æ¸¸æˆ,ç›Šæ™ºæ¸¸æˆ,ä¼‘é—²æ¸¸æˆ,æ— å¿§æ— è™‘",canonical:"https://streetracer.online/"}),e.jsxs("div",{className:"container mx-auto px-4 py-4 pt-20",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:v.colors.secondary},children:"çƒ­é—¨æ¸¸æˆä¸­å¿ƒ"}),e.jsx("p",{className:"text-sm",style:{color:v.colors.textSecondary},children:"ä½“éªŒæ— å¿§æ— è™‘çš„æ¸¸æˆæ—¶å…‰ï¼ç²¾é€‰æœ€çƒ­é—¨çš„å…è´¹åœ¨çº¿æ¸¸æˆï¼Œè®©æ‚¨äº«å—è½»æ¾æ„‰å¿«çš„æ¸¸æˆä½“éªŒï¼"})]}),e.jsx(B,{games:t,allGames:o,isLoading:n,error:s,onPlay:j,onToggleFavorite:N,onCategoryChange:a,selectedCategory:y})]}),e.jsx(Y,{game:f,isOpen:g,onClose:b,isLoading:i,onLoadComplete:p})]})}export{re as default};
