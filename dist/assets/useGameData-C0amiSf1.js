import{c as j,r as d,j as t,S as b,H as h,C as w,h as g}from"./index-DSnetD3q.js";import{H as S}from"./Helmet-DhtXy5xI.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=j("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),k=({gameId:e,initialRating:r=0,onRatingChange:a})=>{const[s,n]=d.useState(r),[c,i]=d.useState(0);d.useEffect(()=>{const o=localStorage.getItem(`game_rating_${e}`);if(o){const m=parseInt(o,10);n(m)}},[e]);const x=o=>{n(o),localStorage.setItem(`game_rating_${e}`,o.toString()),a==null||a(o),typeof window<"u"&&window.gtag&&window.gtag("event","game_rating",{game_id:e,rating:o})},p=o=>{i(o)},y=()=>{i(0)};return t.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(o=>{const m=o<=(c||s);return t.jsx("button",{onClick:()=>x(o),onMouseEnter:()=>p(o),onMouseLeave:y,className:`transition-colors duration-200 ${m?"text-yellow-400 hover:text-yellow-300":"text-gray-400 hover:text-yellow-200"}`,"aria-label":`Rate ${o} star${o>1?"s":""}`,children:t.jsx(b,{size:16,fill:m?"currentColor":"none"})},o)}),s>0&&t.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:[s,"/5"]})]})},C=e=>({racing:"bg-red-500",action:"bg-orange-500",adventure:"bg-green-500",puzzle:"bg-blue-500",shooting:"bg-purple-500",rpg:"bg-pink-500",arcade:"bg-yellow-500",io:"bg-indigo-500",other:"bg-gray-500"})[e||"other"]||"bg-gray-500",G=e=>{const r="bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer";switch(e){case"homepage":return`${r} hover:scale-105`;case"search":return`${r} hover:scale-102`;case"featured":return`${r} hover:scale-105 border-2 border-yellow-400/30 hover:border-yellow-400/60`;case"compact":return`${r} hover:scale-102`;case"detailed":return`${r} hover:scale-102`;default:return r}},$=e=>{switch(e){case"compact":return"h-32";case"detailed":return"h-64";default:return"h-48"}},_=({game:e,variant:r="homepage",onPlay:a,onToggleFavorite:s,isFavorite:n=!1,showRating:c=!0,showControls:i=!0,className:x=""})=>{const p=()=>{a&&a(e.id)},y=l=>{l.stopPropagation(),s&&s(e.id)},o=l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),p())},m=G(r),v=$(r),f=C(e.category);return t.jsxs("div",{className:`${m} ${x}`,onClick:p,onKeyDown:o,role:"button",tabIndex:0,"aria-label":`打开游戏: ${e.title}`,children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:e.image,alt:e.title,className:`w-full ${v} object-cover`,loading:"lazy",onError:l=>{const u=l.target;u.src="/racing-horizon.jpg"}}),t.jsx("div",{className:`absolute top-2 left-2 px-2 py-1 rounded text-xs font-semibold ${f}`,children:e.category||"其他"}),e.isNew&&t.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-green-500 text-white text-xs font-semibold rounded",children:"新游戏"}),s&&t.jsx("button",{onClick:y,className:"absolute bottom-2 right-2 p-2 bg-black/50 hover:bg-black/70 backdrop-blur-md rounded-full text-white transition-all duration-200 hover:scale-110","aria-label":n?"取消收藏":"添加收藏",children:t.jsx(h,{size:16,className:n?"text-red-500 fill-current":"text-white"})}),t.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/20 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100",children:t.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-full p-3",children:t.jsx(N,{size:24,className:"text-white"})})})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2 text-white line-clamp-1",children:e.title}),t.jsx("p",{className:"text-gray-300 text-sm mb-3 line-clamp-2",children:e.description}),c&&t.jsx("div",{className:"mb-3",children:t.jsx(k,{gameId:e.id,onRatingChange:l=>console.log(`Game ${e.id} rated ${l} stars`)})}),r!=="compact"&&t.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.features.slice(0,r==="detailed"?6:3).map((l,u)=>t.jsx("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs",children:l},u))}),t.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-400 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(h,{size:14,className:"text-red-400"}),t.jsx("span",{children:e.likes})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(w,{size:14,className:"text-blue-400"}),t.jsx("span",{children:e.duration})]}),r==="detailed"&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(b,{size:14,className:"text-yellow-400"}),t.jsxs("span",{children:[(e.likes/1e3).toFixed(1),"k"]})]})]}),i&&r!=="compact"&&t.jsx("div",{className:"text-xs text-gray-500",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:e.controls.slice(0,r==="detailed"?4:2).map((l,u)=>t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold text-gray-400",children:l.key}),": ",l.action]},u))})})]})]})},z=({title:e="免费在线游戏 - 最热门的浏览器游戏",description:r="发现最热门的免费在线游戏！包含赛车、射击、冒险、益智等多种类型的高质量浏览器游戏，无需下载，立即开始游戏！",keywords:a="免费游戏,在线游戏,浏览器游戏,赛车游戏,射击游戏,冒险游戏,益智游戏,多人游戏",image:s="/racing-horizon.jpg",url:n="https://your-domain.com",type:c="website"})=>t.jsxs(S,{children:[t.jsx("script",{async:!0,src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9581059198364443",crossorigin:"anonymous"}),t.jsx("title",{children:e}),t.jsx("meta",{name:"description",content:r}),t.jsx("meta",{name:"keywords",content:a}),t.jsx("meta",{name:"author",content:"Your Gaming Site"}),t.jsx("meta",{name:"robots",content:"index, follow"}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t.jsx("meta",{property:"og:title",content:e}),t.jsx("meta",{property:"og:description",content:r}),t.jsx("meta",{property:"og:image",content:s}),t.jsx("meta",{property:"og:url",content:n}),t.jsx("meta",{property:"og:type",content:c}),t.jsx("meta",{property:"og:site_name",content:"Your Gaming Site"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:title",content:e}),t.jsx("meta",{name:"twitter:description",content:r}),t.jsx("meta",{name:"twitter:image",content:s}),t.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"WebSite",name:"Your Gaming Site",description:r,url:n,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${n}/search?q={search_term_string}`},"query-input":"required name=search_term_string"}})}),t.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"ItemList",name:"免费在线游戏列表",description:"最热门的免费浏览器游戏集合",url:n,numberOfItems:12,itemListElement:[{"@type":"Game",name:"Truck Hit Hero: Isekai Arena",description:"2D RPG platformer inspired by classic isekai tales",genre:"Adventure",playMode:"SinglePlayer",gamePlatform:"Web Browser"}]})})]}),E=()=>{try{const{state:e,filteredGames:r,favoriteGames:a}=g();return{games:(e==null?void 0:e.games)||[],filteredGames:r||[],favoriteGames:a||[],isLoading:(e==null?void 0:e.isLoading)||!1,error:(e==null?void 0:e.error)||null,searchQuery:(e==null?void 0:e.searchQuery)||"",selectedCategory:(e==null?void 0:e.selectedCategory)||"all",sortBy:(e==null?void 0:e.sortBy)||"newest"}}catch{return{games:[],filteredGames:[],favoriteGames:[],isLoading:!1,error:null,searchQuery:"",selectedCategory:"all",sortBy:"newest"}}},Q=()=>{try{const{toggleFavorite:e,setSearchQuery:r,setCategory:a,setSortBy:s,updateGameLikes:n}=g();return{toggleFavorite:e,setSearchQuery:r,setCategory:a,setSortBy:s,updateGameLikes:n}}catch{return{toggleFavorite:()=>{},setSearchQuery:()=>{},setCategory:()=>{},setSortBy:()=>{},updateGameLikes:()=>{}}}},H=()=>{try{const{state:e,setSearchQuery:r,setCategory:a,setSortBy:s}=g(),n=d.useCallback(()=>{r(""),a("all"),s("newest")},[r,a,s]),c=((e==null?void 0:e.searchQuery)||"")!==""||((e==null?void 0:e.selectedCategory)||"all")!=="all"||((e==null?void 0:e.sortBy)||"newest")!=="newest";return{searchQuery:(e==null?void 0:e.searchQuery)||"",selectedCategory:(e==null?void 0:e.selectedCategory)||"all",sortBy:(e==null?void 0:e.sortBy)||"newest",setSearchQuery:r,setCategory:a,setSortBy:s,clearFilters:n,hasActiveFilters:c}}catch{return{searchQuery:"",selectedCategory:"all",sortBy:"newest",setSearchQuery:()=>{},setCategory:()=>{},setSortBy:()=>{},clearFilters:()=>{},hasActiveFilters:!1}}},L=()=>{try{const{state:e,toggleFavorite:r,favoriteGames:a}=g(),s=d.useCallback(i=>((e==null?void 0:e.favorites)||[]).includes(i),[e==null?void 0:e.favorites]),n=d.useCallback(i=>{s(i)||r(i)},[r,s]),c=d.useCallback(i=>{s(i)&&r(i)},[r,s]);return{favorites:(e==null?void 0:e.favorites)||[],favoriteGames:a||[],isFavorite:s,toggleFavorite:r,addToFavorites:n,removeFromFavorites:c,favoriteCount:((e==null?void 0:e.favorites)||[]).length}}catch{return{favorites:[],favoriteGames:[],isFavorite:()=>!1,toggleFavorite:()=>{},addToFavorites:()=>{},removeFromFavorites:()=>{},favoriteCount:0}}},A=()=>{try{const{state:e,setSortBy:r}=g();return{sortOptions:[{value:"newest",label:"最新"},{value:"popular",label:"最热门"},{value:"rating",label:"评分最高"},{value:"name",label:"按名称"}],currentSort:(e==null?void 0:e.sortBy)||"newest",setSortBy:r}}catch{return{sortOptions:[{value:"newest",label:"最新"},{value:"popular",label:"最热门"},{value:"rating",label:"评分最高"},{value:"name",label:"按名称"}],currentSort:"newest",setSortBy:()=>{}}}};export{_ as G,z as S,Q as a,L as b,H as c,A as d,E as u};
