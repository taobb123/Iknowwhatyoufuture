import{u as M,j as a,H as d,C as y,S as G}from"./index-DjexH7CO.js";import{P as b,e as P}from"./useGameData-DKu72nxd.js";const V=(r,o)=>({racing:o.colors.error,action:o.colors.warning,adventure:o.colors.success,puzzle:o.colors.primary,shooting:o.colors.accent,rpg:o.colors.secondary,arcade:o.colors.warning,io:o.colors.primary,casual:o.colors.success,other:o.colors.textSecondary})[r||"other"]||o.colors.textSecondary,p=(r,o)=>{const c={backgroundColor:o.components.gameCard.background,borderColor:o.components.gameCard.border,boxShadow:o.components.gameCard.shadow,borderRadius:o.borderRadius.lg,transition:"all 0.3s ease",cursor:"pointer",overflow:"hidden"};switch(r){case"homepage":return{...c,transform:"scale(1)","&:hover":{transform:"scale(1.05)",boxShadow:o.components.gameCard.hover.shadow}};case"search":return{...c,transform:"scale(1)","&:hover":{transform:"scale(1.02)",boxShadow:o.components.gameCard.hover.shadow}};case"featured":return{...c,border:`2px solid ${o.colors.warning}`,transform:"scale(1)","&:hover":{transform:"scale(1.05)",boxShadow:o.components.gameCard.hover.shadow,borderColor:o.colors.warning}};case"compact":return{...c,transform:"scale(1)","&:hover":{transform:"scale(1.02)",boxShadow:o.components.gameCard.hover.shadow}};case"detailed":return{...c,transform:"scale(1)","&:hover":{transform:"scale(1.02)",boxShadow:o.components.gameCard.hover.shadow}};default:return c}},R=r=>{switch(r){case"compact":return"h-32";case"detailed":return"h-64";default:return"h-48"}},C=({game:r,variant:o="homepage",onPlay:c,onToggleFavorite:l,isFavorite:i=!1,showRating:g=!0,showControls:N=!0,className:j=""})=>{const{currentTheme:e}=M(),n=()=>{c&&c(r.id)},u=s=>{s.stopPropagation(),l&&l(r.id)},x=s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),n())};p(o,e);const S=R(o),k=V(r.category,e),m={backgroundColor:e.components.gameCard.background,borderColor:e.components.gameCard.border,boxShadow:e.components.gameCard.shadow,borderRadius:e.borderRadius.lg,transition:"all 0.3s ease",cursor:"pointer",overflow:"hidden",border:o==="featured"?`2px solid ${e.colors.warning}`:`1px solid ${e.components.gameCard.border}`},I={transform:o==="homepage"||o==="featured"?"scale(1.05)":"scale(1.02)",boxShadow:e.components.gameCard.hover.shadow};return a.jsxs("div",{className:`${j} transition-all duration-300 hover:scale-105`,style:m,onClick:n,onKeyDown:x,role:"button",tabIndex:0,"aria-label":`打开游戏: ${r.title}`,onMouseEnter:s=>{Object.assign(s.currentTarget.style,I)},onMouseLeave:s=>{s.currentTarget.style.transform="scale(1)",s.currentTarget.style.boxShadow=e.components.gameCard.shadow},children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:r.image,alt:r.title,className:`w-full ${S} object-cover`,loading:"lazy",onError:s=>{const t=s.target;t.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjczIiBoZWlnaHQ9IjE1MyIgdmlld0JveD0iMCAwIDI3MyAxNTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNzMiIGhlaWdodD0iMTUzIiBmaWxsPSIjMzc0MTUxIi8+CjxwYXRoIGQ9Ik0xMzYuNSAzNy41QzE0MS4zIDM3LjUgMTQ1LjEgNDEuMyAxNDUuMSA0Ni4xVjEwNi45QzE0NS4xIDExMS43IDE0MS4zIDExNS41IDEzNi41IDExNS41SDQ2LjFDNDEuMyAxMTUuNSAzNy41IDExMS43IDM3LjUgMTA2LjlWNDYuMUMzNy41IDQxLjMgNDEuMyAzNy41IDQ2LjEgMzcuNUgxMzYuNVoiIGZpbGw9IiM2MzY2RjEiLz4KPHBhdGggZD0iTTEwOS41IDY5LjVIMTEzLjVWNzMuNUgxMDkuNVY2OS41WiIgZmlsbD0iI0ZGRkZGRiIvPgo8cGF0aCBkPSJNMTE3LjUgNjkuNUgxMjEuNVY3My41SDExNy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTI1LjUgNjkuNUgxMjkuNVY3My41SDEyNS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTMzLjUgNjkuNUgxMzcuNVY3My41SDEzMy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQxLjUgNjkuNUgxNDUuNVY3My41SDE0MS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgNjkuNUgxNTMuNVY4MS41SDE0OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgNzcuNUgxNjEuNVY4MS41SDE1Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgNzcuNUgxNjkuNVY4MS41SDE2NS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgNzcuNUgxNzcuNVY4MS41SDE3My41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgNzcuNUgxODUuNVY4MS41SDE4MS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgNzcuNUgxOTMuNVY4MS41SDE4OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgNzcuNUgyMDEuNVY4MS41SDE5Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgODUuNUgxNTMuNVY4OS41SDE0OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgODUuNUgxNjEuNVY4OS41SDE1Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgODUuNUgxNjkuNVY4OS41SDE2NS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgODUuNUgxNzcuNVY4OS41SDE3My41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgODUuNUgxODUuNVY4OS41SDE4MS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgODUuNUgxOTMuNVY4OS41SDE4OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgODUuNUgyMDEuNVY4OS41SDE5Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgOTMuNUgxNTMuNVY5Ny41SDE0OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgOTMuNUgxNjEuNVY5Ny41SDE1Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgOTMuNUgxNjkuNVY5Ny41SDE2NS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgOTMuNUgxNzcuNVY5Ny41SDE3My41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgOTMuNUgxODUuNVY5Ny41SDE4MS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgOTMuNUgxOTMuNVY5Ny41SDE4OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgOTMuNUgyMDEuNVY5Ny41SDE5Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8L3N2Zz4K"}}),a.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:k,borderRadius:e.borderRadius.sm},children:r.category||"其他"}),r.isNew&&a.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 text-white text-xs font-semibold rounded",style:{backgroundColor:e.colors.success,borderRadius:e.borderRadius.sm},children:"新游戏"}),l&&a.jsx("button",{onClick:u,className:"absolute bottom-2 right-2 p-2 backdrop-blur-md rounded-full text-white transition-all duration-200 hover:scale-110",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:e.borderRadius.full},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.7)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.5)"},"aria-label":i?"取消收藏":"添加收藏",children:a.jsx(d,{size:16,className:i?"text-red-500 fill-current":"text-white"})}),a.jsx("div",{className:"absolute inset-0 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100",style:{backgroundColor:"rgba(0, 0, 0, 0)"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.2)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0)"},children:a.jsx("div",{className:"backdrop-blur-md rounded-full p-3",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:e.borderRadius.full},children:a.jsx(b,{size:24,className:"text-white"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-1",style:{color:e.components.gameCard.title.color,fontSize:e.components.gameCard.title.fontSize},children:r.title}),a.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:e.components.gameCard.description.color,fontSize:e.components.gameCard.description.fontSize},children:r.description}),g&&a.jsx("div",{className:"mb-3",children:a.jsx(P,{gameId:r.id,onRatingChange:()=>{}})}),o!=="compact"&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:r.features.slice(0,o==="detailed"?6:3).map((s,t)=>a.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:e.colors.surface,color:e.colors.textSecondary,borderRadius:e.borderRadius.sm},children:s},t))}),a.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",style:{color:e.colors.textSecondary},children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(d,{size:14,className:"text-red-400"}),a.jsx("span",{children:r.likes})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(y,{size:14,className:"text-blue-400"}),a.jsx("span",{children:r.duration})]}),o==="detailed"&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(G,{size:14,className:"text-yellow-400"}),a.jsxs("span",{children:[(r.likes/1e3).toFixed(1),"k"]})]})]}),N&&o!=="compact"&&a.jsx("div",{className:"text-xs",style:{color:e.colors.textSecondary},children:a.jsx("div",{className:"flex flex-wrap gap-2",children:r.controls.slice(0,o==="detailed"?4:2).map((s,t)=>a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",style:{color:e.colors.textSecondary},children:s.key}),": ",s.action]},t))})})]})]})};export{C as S};
