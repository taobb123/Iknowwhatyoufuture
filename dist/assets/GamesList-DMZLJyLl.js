import{c as I,h as R,u as B,a as V,R as A,r as u,j as s,d as O,b as Q}from"./index-BAUYqbCF.js";import{S as D}from"./StyledGameCard-BV8hFq5s.js";import{B as H}from"./Breadcrumb-BSDq8sc7.js";import{u as _,c as q,d as J,a as K,S as U,G as W}from"./useGameData-BpvXafSp.js";import{L as X}from"./list--qPCtZr0.js";import{C as Y}from"./chevron-right-DDJN-XBA.js";import"./home-JcmaIcmm.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=I("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ce=()=>{const C=R(),{currentTheme:e}=B(),{t:l}=V(),[a,y]=A.useState("grid"),[r,p]=u.useState(1),[i]=u.useState(16),[t,N]=u.useState(1),[f,k]=u.useState([]),{filteredGames:d,isLoading:S,error:b}=_(),{searchQuery:x,setSearchQuery:w,clearFilters:j,hasActiveFilters:T}=q(),{sortOptions:M,currentSort:v,setSortBy:P}=J(),{toggleFavorite:G}=K(),L=o=>{C(`/games/${o}`)},E=o=>{G(o)};u.useEffect(()=>{const o=Math.ceil(d.length/i);N(o);const c=(r-1)*i,n=c+i,g=d.slice(c,n);k(g)},[d,r,i]),u.useEffect(()=>{p(1)},[x,v]);const m=o=>{p(o),window.scrollTo({top:0,behavior:"smooth"})},F=()=>{r>1&&m(r-1)},$=()=>{r<t&&m(r+1)},z=()=>{const o=[];if(t<=5)for(let n=1;n<=t;n++)o.push(n);else{const n=Math.max(1,r-2),g=Math.min(t,n+5-1);for(let h=n;h<=g;h++)o.push(h)}return o};return s.jsxs("div",{className:"min-h-screen text-white",style:{backgroundColor:e.colors.background},children:[s.jsx("div",{className:"pt-16"}),s.jsx(U,{title:`${l("games.title")} - 免费在线游戏 | Iknowwhatyoufuture`,description:"浏览所有热门免费在线游戏，包含动作、冒险、益智、休闲等多种类型，让您享受无忧无虑的游戏时光！",keywords:"热门游戏,在线游戏,免费游戏,浏览器游戏,动作游戏,冒险游戏,益智游戏,休闲游戏,无忧无虑",canonical:"https://streetracer.online/games"}),s.jsx("div",{className:"border-b",style:{backgroundColor:e.colors.surface,borderColor:e.colors.border},children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsx(H,{items:[{label:l("navigation.home"),href:"/",icon:s.jsx("span",{children:"🏠"})},{label:l("games.title")}]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:e.colors.text},children:l("games.title")}),s.jsx("p",{className:"text-lg",style:{color:e.colors.textSecondary},children:l("games.noGamesFound")}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",style:{color:e.colors.textSecondary},children:[s.jsxs("span",{children:["找到 ",d.length," 个游戏，当前显示第 ",r," 页，共 ",t," 页"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{children:"排序方式："}),s.jsx("select",{value:v,onChange:o=>P(o.target.value),className:"px-3 py-1 rounded-lg border focus:outline-none",style:{backgroundColor:e.colors.surface,color:e.colors.text,borderColor:e.colors.border},children:M.map(o=>s.jsx("option",{value:o.value,children:o.label},o.value))})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",placeholder:l("search.placeholder"),value:x,onChange:o=>w(o.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-1",style:{backgroundColor:e.colors.surface,borderColor:e.colors.border,color:e.colors.text,border:`1px solid ${e.colors.border}`,"--placeholder-color":e.colors.textSecondary}}),s.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2",size:20,style:{color:e.colors.textSecondary}})]}),s.jsxs("div",{className:"flex rounded-lg p-1",style:{backgroundColor:e.colors.surface},children:[s.jsx("button",{onClick:()=>y("grid"),className:"p-2 rounded transition-colors",style:{backgroundColor:a==="grid"?e.colors.primary:"transparent",color:a==="grid"?e.colors.text:e.colors.textSecondary},onMouseEnter:o=>{a!=="grid"&&(o.currentTarget.style.color=e.colors.text)},onMouseLeave:o=>{a!=="grid"&&(o.currentTarget.style.color=e.colors.textSecondary)},children:s.jsx(Q,{size:20})}),s.jsx("button",{onClick:()=>y("list"),className:"p-2 rounded transition-colors",style:{backgroundColor:a==="list"?e.colors.primary:"transparent",color:a==="list"?e.colors.text:e.colors.textSecondary},onMouseEnter:o=>{a!=="list"&&(o.currentTarget.style.color=e.colors.text)},onMouseLeave:o=>{a!=="list"&&(o.currentTarget.style.color=e.colors.textSecondary)},children:s.jsx(X,{size:20})})]})]}),T&&s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:e.colors.textSecondary},children:"当前筛选："}),x&&s.jsxs("span",{className:"px-2 py-1 text-white text-sm rounded",style:{backgroundColor:e.colors.primary},children:["搜索: ",x]}),s.jsx("button",{onClick:j,className:"px-2 py-1 text-white text-sm rounded transition-colors",style:{backgroundColor:e.colors.surface},onMouseEnter:o=>{o.currentTarget.style.backgroundColor=e.colors.hover},onMouseLeave:o=>{o.currentTarget.style.backgroundColor=e.colors.surface},children:l("search.clearSearch")})]})]}),b&&s.jsx("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:`1px solid ${e.colors.error}`},children:s.jsxs("p",{style:{color:e.colors.error},children:["加载游戏时出现错误: ",b]})}),S?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 rounded-full animate-spin",style:{borderColor:`${e.colors.textSecondary}20`,borderTopColor:e.colors.text}}),s.jsx("p",{className:"text-sm",style:{color:e.colors.textSecondary},children:l("common.loading")})]})}):f.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",style:{color:e.colors.textSecondary},children:"🎮"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:e.colors.text},children:l("games.noGamesFound")}),s.jsx("p",{className:"mb-6",style:{color:e.colors.textSecondary},children:x?"没有找到匹配的游戏":"暂时没有游戏"}),x&&s.jsx("button",{onClick:j,className:"text-white px-6 py-2 rounded-lg transition-colors",style:{backgroundColor:e.colors.primary},onMouseEnter:o=>{o.currentTarget.style.backgroundColor=e.colors.hover},onMouseLeave:o=>{o.currentTarget.style.backgroundColor=e.colors.primary},children:l("search.clearSearch")})]}):s.jsx("div",{className:a==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:f.map(o=>s.jsx(W,{children:s.jsx(D,{game:o,variant:a==="list"?"detailed":"homepage",onPlay:L,onToggleFavorite:E,showRating:!0,showControls:a==="list"})},o.id))}),t>1&&s.jsxs("div",{className:"mt-8 rounded-lg p-6",style:{backgroundColor:e.colors.surface},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm",style:{color:e.colors.textSecondary},children:["显示第 ",(r-1)*i+1," - ",Math.min(r*i,d.length)," 个游戏，共 ",d.length," 个游戏"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:F,disabled:r===1,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",style:{backgroundColor:e.colors.surface,color:r===1?e.colors.textSecondary:e.colors.text,cursor:r===1?"not-allowed":"pointer",opacity:r===1?.5:1},onMouseEnter:o=>{r!==1&&(o.currentTarget.style.backgroundColor=e.colors.hover)},onMouseLeave:o=>{r!==1&&(o.currentTarget.style.backgroundColor=e.colors.surface)},children:[s.jsx(Z,{size:16}),l("common.previous")]}),s.jsx("div",{className:"flex items-center gap-1",children:z().map(o=>s.jsx("button",{onClick:()=>m(o),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors",style:{backgroundColor:r===o?e.colors.primary:e.colors.surface,color:e.colors.text},onMouseEnter:c=>{r!==o&&(c.currentTarget.style.backgroundColor=e.colors.hover)},onMouseLeave:c=>{r!==o&&(c.currentTarget.style.backgroundColor=e.colors.surface)},children:o},o))}),s.jsxs("button",{onClick:$,disabled:r===t,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",style:{backgroundColor:e.colors.surface,color:r===t?e.colors.textSecondary:e.colors.text,cursor:r===t?"not-allowed":"pointer",opacity:r===t?.5:1},onMouseEnter:o=>{r!==t&&(o.currentTarget.style.backgroundColor=e.colors.hover)},onMouseLeave:o=>{r!==t&&(o.currentTarget.style.backgroundColor=e.colors.surface)},children:[l("common.next"),s.jsx(Y,{size:16})]})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 pt-4 border-t",style:{borderColor:e.colors.border},children:[s.jsx("span",{className:"text-sm",style:{color:e.colors.textSecondary},children:"快速跳转："}),s.jsx("select",{value:r,onChange:o=>m(Number(o.target.value)),className:"px-3 py-1 rounded text-sm focus:outline-none",style:{backgroundColor:e.colors.surface,color:e.colors.text,border:`1px solid ${e.colors.border}`},children:Array.from({length:t},(o,c)=>c+1).map(o=>s.jsxs("option",{value:o,children:["第 ",o," 页"]},o))})]})]})]})]})};export{ce as default};
