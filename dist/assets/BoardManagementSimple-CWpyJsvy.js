const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BCw3XfMH.js","assets/index-CVsLNFgh.css"])))=>i.map(i=>d[i]);
import{e as C,r as i,_ as m,j as e}from"./index-BCw3XfMH.js";import{A as k}from"./arrow-left-C4yDye0w.js";import{P as _}from"./plus-B-9IxP9O.js";import{C as E}from"./calendar-B4Glwse2.js";const P=()=>{const f=C(),[r,d]=i.useState([]),[y,h]=i.useState(!0),[j,c]=i.useState(!1),[p,x]=i.useState(!1),[g,u]=i.useState(null),[n,b]=i.useState(null),[s,o]=i.useState({name:"",description:"",icon:"ğŸ®",color:"from-blue-600 to-purple-600"});i.useEffect(()=>{v()},[]);const v=async()=>{try{console.log("BoardManagementSimple: å¼€å§‹åŠ è½½æ¿å—æ•°æ®...");const l=(await m(()=>import("./index-BCw3XfMH.js").then(a=>a.a1),__vite__mapDeps([0,1]))).getAllBoards();console.log("BoardManagementSimple: åŠ è½½çš„æ¿å—:",l),d(l),h(!1)}catch(t){console.error("BoardManagementSimple: åŠ è½½æ¿å—å¤±è´¥:",t),h(!1)}},N=async()=>{try{console.log("BoardManagementSimple: åˆ›å»ºæ¿å—:",s);const l=(await m(()=>import("./index-BCw3XfMH.js").then(a=>a.a1),__vite__mapDeps([0,1]))).addBoard(s);d([...r,l]),c(!1),o({name:"",description:"",icon:"ğŸ®",color:"from-blue-600 to-purple-600"}),console.log("BoardManagementSimple: æ¿å—åˆ›å»ºæˆåŠŸ")}catch(t){console.error("BoardManagementSimple: åˆ›å»ºæ¿å—å¤±è´¥:",t)}},w=async()=>{if(console.log("BoardManagementSimple: handleEditBoard è¢«è°ƒç”¨"),console.log("BoardManagementSimple: editingBoard:",n),console.log("BoardManagementSimple: formData:",s),!n){console.log("BoardManagementSimple: æ²¡æœ‰ editingBoardï¼Œé€€å‡º");return}try{console.log("BoardManagementSimple: å¼€å§‹æ›´æ–°æ¿å—:",n.id,s);const t=await m(()=>import("./index-BCw3XfMH.js").then(a=>a.a1),__vite__mapDeps([0,1]));console.log("BoardManagementSimple: communityManager æ¨¡å—åŠ è½½æˆåŠŸ");const l=t.updateBoard(n.id,s);console.log("BoardManagementSimple: æ¿å—æ›´æ–°æˆåŠŸ:",l),d(r.map(a=>a.id===n.id?l:a)),x(!1),b(null),o({name:"",description:"",icon:"ğŸ®",color:"from-blue-600 to-purple-600"}),console.log("BoardManagementSimple: çŠ¶æ€æ›´æ–°å®Œæˆ")}catch(t){console.error("BoardManagementSimple: æ›´æ–°æ¿å—å¤±è´¥:",t);const l=document.createElement("div");l.innerHTML=`
        <div style="
          position: fixed;
          top: 20px;
          right: 20px;
          background: #EF4444;
          color: white;
          padding: 16px 24px;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          z-index: 10000;
          font-family: system-ui, -apple-system, sans-serif;
          font-size: 14px;
          font-weight: 500;
          animation: slideIn 0.3s ease-out;
        ">
          âŒ æ›´æ–°æ¿å—å¤±è´¥: ${t instanceof Error?t.message:"æœªçŸ¥é”™è¯¯"}
        </div>
        <style>
          @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
        </style>
      `,document.body.appendChild(l),setTimeout(()=>{l.parentNode&&l.parentNode.removeChild(l)},3e3)}},B=async t=>{try{console.log("BoardManagementSimple: åˆ é™¤æ¿å—:",t),(await m(()=>import("./index-BCw3XfMH.js").then(a=>a.a1),__vite__mapDeps([0,1]))).deleteBoard(t),d(r.filter(a=>a.id!==t)),u(null),console.log("BoardManagementSimple: æ¿å—åˆ é™¤æˆåŠŸ")}catch(l){console.error("BoardManagementSimple: åˆ é™¤æ¿å—å¤±è´¥:",l)}},S=t=>{b(t),o({name:t.name,description:t.description,icon:t.icon,color:t.color}),x(!0)},M=t=>new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return y?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{children:"åŠ è½½ä¸­..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-900 text-white pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>f(-1),className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[e.jsx(k,{size:16}),"è¿”å›"]}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"æ¿å—ç®¡ç†ï¼ˆç®€åŒ–ç‰ˆï¼‰"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(_,{size:16}),"åˆ›å»ºæ¿å—"]})]}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:e.jsxs("details",{className:"text-sm",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300 font-medium",children:"ğŸ”§ è°ƒè¯•ä¿¡æ¯ (ç‚¹å‡»å±•å¼€)"}),e.jsxs("div",{className:"mt-3 space-y-1 text-gray-300",children:[e.jsxs("p",{children:["ç¼–è¾‘æ¨¡æ€æ¡†: ",p?"æ˜¾ç¤º":"éšè—"]}),e.jsxs("p",{children:["åˆ é™¤ç¡®è®¤: ",g?"æ˜¾ç¤º":"éšè—"]}),e.jsxs("p",{children:["æ­£åœ¨ç¼–è¾‘: ",(n==null?void 0:n.name)||"æ— "]}),e.jsxs("p",{children:["æ¿å—æ•°é‡: ",r.length]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.length}),e.jsx("div",{className:"text-gray-400",children:"æ€»æ¿å—æ•°"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(t=>t.isActive).length}),e.jsx("div",{className:"text-gray-400",children:"æ´»è·ƒæ¿å—"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),e.jsx("div",{className:"text-gray-400",children:"æ€»ä¸»é¢˜æ•°"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),e.jsx("div",{className:"text-gray-400",children:"æ€»æ–‡ç« æ•°"})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"æ¿å—åˆ—è¡¨"}),r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400 mb-4",children:"æš‚æ— æ¿å—æ•°æ®"}),e.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"åˆ›å»ºç¬¬ä¸€ä¸ªæ¿å—"})]}):e.jsx("div",{className:"space-y-4",children:r.map(t=>e.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{size:12}),M(t.createdAt)]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.isActive?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:t.isActive?"æ´»è·ƒ":"å·²å…³é—­"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:[t.topicCount," ä¸ªä¸»é¢˜"]}),e.jsx("button",{onClick:()=>{console.log("BoardManagementSimple: ç‚¹å‡»ç¼–è¾‘æŒ‰é’®",t),S(t)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors",children:"ç¼–è¾‘"}),e.jsx("button",{onClick:()=>{console.log("BoardManagementSimple: ç‚¹å‡»åˆ é™¤æŒ‰é’®",t.id),u(t.id)},className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded transition-colors",children:"åˆ é™¤"})]})]},t.id))})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"åˆ›å»ºæ¿å—"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"æ¿å—åç§°"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>o({...s,name:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"è¾“å…¥æ¿å—åç§°"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"æ¿å—æè¿°"}),e.jsx("textarea",{value:s.description,onChange:t=>o({...s,description:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",rows:3,placeholder:"è¾“å…¥æ¿å—æè¿°"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"å›¾æ ‡"}),e.jsx("input",{type:"text",value:s.icon,onChange:t=>o({...s,icon:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"é€‰æ‹©å›¾æ ‡"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"é¢œè‰²"}),e.jsxs("select",{value:s.color,onChange:t=>o({...s,color:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"from-blue-600 to-purple-600",children:"è“è‰²åˆ°ç´«è‰²"}),e.jsx("option",{value:"from-green-600 to-teal-600",children:"ç»¿è‰²åˆ°é’è‰²"}),e.jsx("option",{value:"from-red-600 to-pink-600",children:"çº¢è‰²åˆ°ç²‰è‰²"}),e.jsx("option",{value:"from-yellow-600 to-orange-600",children:"é»„è‰²åˆ°æ©™è‰²"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"å–æ¶ˆ"}),e.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"åˆ›å»º"})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"ç¼–è¾‘æ¿å—"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"æ¿å—åç§°"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>o({...s,name:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"è¾“å…¥æ¿å—åç§°"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"æ¿å—æè¿°"}),e.jsx("textarea",{value:s.description,onChange:t=>o({...s,description:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",rows:3,placeholder:"è¾“å…¥æ¿å—æè¿°"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"å›¾æ ‡"}),e.jsx("input",{type:"text",value:s.icon,onChange:t=>o({...s,icon:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"é€‰æ‹©å›¾æ ‡"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"é¢œè‰²"}),e.jsxs("select",{value:s.color,onChange:t=>o({...s,color:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"from-blue-600 to-purple-600",children:"è“è‰²åˆ°ç´«è‰²"}),e.jsx("option",{value:"from-green-600 to-teal-600",children:"ç»¿è‰²åˆ°é’è‰²"}),e.jsx("option",{value:"from-red-600 to-pink-600",children:"çº¢è‰²åˆ°ç²‰è‰²"}),e.jsx("option",{value:"from-yellow-600 to-orange-600",children:"é»„è‰²åˆ°æ©™è‰²"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"å–æ¶ˆ"}),e.jsx("button",{onClick:()=>{console.log("BoardManagementSimple: ä¿å­˜æŒ‰é’®è¢«ç‚¹å‡»"),w()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"ä¿å­˜"})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"ç¡®è®¤åˆ é™¤"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ¿å—å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚"}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"å–æ¶ˆ"}),e.jsx("button",{onClick:()=>B(g),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"åˆ é™¤"})]})]})})]})})};export{P as default};
