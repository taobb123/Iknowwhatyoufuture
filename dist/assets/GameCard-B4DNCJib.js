import{j as a,H as l,C as n,S as d}from"./index-CNCBtjWD.js";import{P as G,e as P}from"./useGameData-BLvu6TrE.js";const V=e=>({racing:"bg-red-500",action:"bg-orange-500",adventure:"bg-green-500",puzzle:"bg-blue-500",shooting:"bg-purple-500",rpg:"bg-pink-500",arcade:"bg-yellow-500",io:"bg-indigo-500",other:"bg-gray-500"})[e||"other"]||"bg-gray-500",m=e=>{const s="bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer";switch(e){case"homepage":return`${s} hover:scale-105`;case"search":return`${s} hover:scale-102`;case"featured":return`${s} hover:scale-105 border-2 border-yellow-400/30 hover:border-yellow-400/60`;case"compact":return`${s} hover:scale-102`;case"detailed":return`${s} hover:scale-102`;default:return s}},U=e=>{switch(e){case"compact":return"h-32";case"detailed":return"h-64";default:return"h-48"}},D=({game:e,variant:s="homepage",onPlay:c,onToggleFavorite:j,isFavorite:t=!1,showRating:x=!0,showControls:o=!0,className:r=""})=>{const g=()=>{c&&c(e.id)},S=i=>{i.stopPropagation(),j&&j(e.id)},k=i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),g())},I=m(s),u=U(s),M=V(e.category);return a.jsxs("div",{className:`${I} ${r}`,onClick:g,onKeyDown:k,role:"button",tabIndex:0,"aria-label":`打开游戏: ${e.title}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e.image,alt:e.title,className:`w-full ${u} object-cover`,loading:"lazy",onError:i=>{const N=i.target;N.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjczIiBoZWlnaHQ9IjE1MyIgdmlld0JveD0iMCAwIDI3MyAxNTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNzMiIGhlaWdodD0iMTUzIiBmaWxsPSIjMzc0MTUxIi8+CjxwYXRoIGQ9Ik0xMzYuNSAzNy41QzE0MS4zIDM3LjUgMTQ1LjEgNDEuMyAxNDUuMSA0Ni4xVjEwNi45QzE0NS4xIDExMS43IDE0MS4zIDExNS41IDEzNi41IDExNS41SDQ2LjFDNDEuMyAxMTUuNSAzNy41IDExMS43IDM3LjUgMTA2LjlWNDYuMUMzNy41IDQxLjMgNDEuMyAzNy41IDQ2LjEgMzcuNUgxMzYuNVoiIGZpbGw9IiM2MzY2RjEiLz4KPHBhdGggZD0iTTEwOS41IDY5LjVIMTEzLjVWNzMuNUgxMDkuNVY2OS41WiIgZmlsbD0iI0ZGRkZGRiIvPgo8cGF0aCBkPSJNMTE3LjUgNjkuNUgxMjEuNVY3My41SDExNy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTI1LjUgNjkuNUgxMjkuNVY3My41SDEyNS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTMzLjUgNjkuNUgxMzcuNVY3My41SDEzMy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQxLjUgNjkuNUgxNDUuNVY3My41SDE0MS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgNjkuNUgxNTMuNVY3My41SDE0OS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgNjkuNUgxNjEuNVY3My41SDE1Ny41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgNjkuNUgxNjkuNVY3My41SDE2NS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgNjkuNUgxNzcuNVY3My41SDE3My41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgNjkuNUgxODUuNVY3My41SDE4MS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgNjkuNUgxOTMuNVY3My41SDE4OS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgNjkuNUgyMDEuNVY3My41SDE5Ny41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgNzcuNUgxNTMuNVY4MS41SDE0OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgNzcuNUgxNjEuNVY4MS41SDE1Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgNzcuNUgxNjkuNVY4MS41SDE2NS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgNzcuNUgxNzcuNVY4MS41SDE3My41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgNzcuNUgxODUuNVY4MS41SDE4MS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgNzcuNUgxOTMuNVY4MS41SDE4OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgNzcuNUgyMDEuNVY4MS41SDE5Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgODUuNUgxNTMuNVY4OS41SDE0OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgODUuNUgxNjEuNVY4OS41SDE1Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgODUuNUgxNjkuNVY4OS41SDE2NS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgODUuNUgxNzcuNVY4OS41SDE3My41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgODUuNUgxODUuNVY4OS41SDE4MS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgODUuNUgxOTMuNVY4OS41SDE4OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgODUuNUgyMDEuNVY4OS41SDE5Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgOTMuNUgxNTMuNVY5Ny41SDE0OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgOTMuNUgxNjEuNVY5Ny41SDE1Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgOTMuNUgxNjkuNVY5Ny41SDE2NS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgOTMuNUgxNzcuNVY5Ny41SDE3My41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgOTMuNUgxODUuNVY5Ny41SDE4MS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgOTMuNUgxOTMuNVY5Ny41SDE4OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgOTMuNUgyMDEuNVY5Ny41SDE5Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8L3N2Zz4K"}}),a.jsx("div",{className:`absolute top-2 left-2 px-2 py-1 rounded text-xs font-semibold ${M}`,children:e.category||"其他"}),e.isNew&&a.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-green-500 text-white text-xs font-semibold rounded",children:"新游戏"}),j&&a.jsx("button",{onClick:S,className:"absolute bottom-2 right-2 p-2 bg-black/50 hover:bg-black/70 backdrop-blur-md rounded-full text-white transition-all duration-200 hover:scale-110","aria-label":t?"取消收藏":"添加收藏",children:a.jsx(l,{size:16,className:t?"text-red-500 fill-current":"text-white"})}),a.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/20 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100",children:a.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-full p-3",children:a.jsx(G,{size:24,className:"text-white"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-white line-clamp-1",children:e.title}),a.jsx("p",{className:"text-gray-300 text-sm mb-3 line-clamp-2",children:e.description}),x&&a.jsx("div",{className:"mb-3",children:a.jsx(P,{gameId:e.id,onRatingChange:()=>{}})}),s!=="compact"&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.features.slice(0,s==="detailed"?6:3).map((i,N)=>a.jsx("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs",children:i},N))}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-400 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(l,{size:14,className:"text-red-400"}),a.jsx("span",{children:e.likes})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(n,{size:14,className:"text-blue-400"}),a.jsx("span",{children:e.duration})]}),s==="detailed"&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(d,{size:14,className:"text-yellow-400"}),a.jsxs("span",{children:[(e.likes/1e3).toFixed(1),"k"]})]})]}),o&&s!=="compact"&&a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:e.controls.slice(0,s==="detailed"?4:2).map((i,N)=>a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold text-gray-400",children:i.key}),": ",i.action]},N))})})]})]})};export{D as G};
