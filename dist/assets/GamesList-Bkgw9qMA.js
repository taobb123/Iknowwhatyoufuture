import{c as R,f as $,u as B,R as I,r as x,j as s,b as V,a as A}from"./index-DjexH7CO.js";import{S as O}from"./StyledGameCard-Br8oqtUg.js";import{B as Q}from"./Breadcrumb-rsD7ilOa.js";import{u as D,c as H,d as _,a as q,S as J,G as K}from"./useGameData-DKu72nxd.js";import{L as U}from"./list-BKvYJirC.js";import{C as W}from"./chevron-right-C3Y1GYlU.js";import"./home-B4cfoAdL.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=R("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),le=()=>{const v=$(),{currentTheme:e}=B(),[l,h]=I.useState("grid"),[r,y]=x.useState(1),[n]=x.useState(16),[t,C]=x.useState(1),[p,N]=x.useState([]),{filteredGames:i,isLoading:k,error:f}=D(),{searchQuery:d,setSearchQuery:S,clearFilters:b,hasActiveFilters:w}=H(),{sortOptions:T,currentSort:j,setSortBy:M}=_(),{toggleFavorite:P}=q(),L=o=>{v(`/games/${o}`)},E=o=>{P(o)};x.useEffect(()=>{const o=Math.ceil(i.length/n);C(o);const c=(r-1)*n,a=c+n,m=i.slice(c,a);N(m)},[i,r,n]),x.useEffect(()=>{y(1)},[d,j]);const u=o=>{y(o),window.scrollTo({top:0,behavior:"smooth"})},G=()=>{r>1&&u(r-1)},F=()=>{r<t&&u(r+1)},z=()=>{const o=[];if(t<=5)for(let a=1;a<=t;a++)o.push(a);else{const a=Math.max(1,r-2),m=Math.min(t,a+5-1);for(let g=a;g<=m;g++)o.push(g)}return o};return s.jsxs("div",{className:"min-h-screen text-white",style:{backgroundColor:e.colors.background},children:[s.jsx("div",{className:"pt-16"}),s.jsx(J,{title:"所有热门游戏 - 免费在线游戏 | Iknowwhatyoufuture",description:"浏览所有热门免费在线游戏，包含动作、冒险、益智、休闲等多种类型，让您享受无忧无虑的游戏时光！",keywords:"热门游戏,在线游戏,免费游戏,浏览器游戏,动作游戏,冒险游戏,益智游戏,休闲游戏,无忧无虑",canonical:"https://streetracer.online/games"}),s.jsx("div",{className:"border-b",style:{backgroundColor:e.colors.surface,borderColor:e.colors.border},children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsx(Q,{items:[{label:"首页",href:"/",icon:s.jsx("span",{children:"🏠"})},{label:"所有游戏"}]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:e.colors.text},children:"所有游戏"}),s.jsx("p",{className:"text-lg",style:{color:e.colors.textSecondary},children:"发现最热门的免费在线游戏"}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",style:{color:e.colors.textSecondary},children:[s.jsxs("span",{children:["找到 ",i.length," 个游戏，当前显示第 ",r," 页，共 ",t," 页"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{children:"排序方式："}),s.jsx("select",{value:j,onChange:o=>M(o.target.value),className:"px-3 py-1 rounded-lg border focus:outline-none",style:{backgroundColor:e.colors.surface,color:e.colors.text,borderColor:e.colors.border},children:T.map(o=>s.jsx("option",{value:o.value,children:o.label},o.value))})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",placeholder:"搜索游戏...",value:d,onChange:o=>S(o.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-1",style:{backgroundColor:e.colors.surface,borderColor:e.colors.border,color:e.colors.text,border:`1px solid ${e.colors.border}`,"--placeholder-color":e.colors.textSecondary}}),s.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2",size:20,style:{color:e.colors.textSecondary}})]}),s.jsxs("div",{className:"flex rounded-lg p-1",style:{backgroundColor:e.colors.surface},children:[s.jsx("button",{onClick:()=>h("grid"),className:"p-2 rounded transition-colors",style:{backgroundColor:l==="grid"?e.colors.primary:"transparent",color:l==="grid"?e.colors.text:e.colors.textSecondary},onMouseEnter:o=>{l!=="grid"&&(o.currentTarget.style.color=e.colors.text)},onMouseLeave:o=>{l!=="grid"&&(o.currentTarget.style.color=e.colors.textSecondary)},children:s.jsx(A,{size:20})}),s.jsx("button",{onClick:()=>h("list"),className:"p-2 rounded transition-colors",style:{backgroundColor:l==="list"?e.colors.primary:"transparent",color:l==="list"?e.colors.text:e.colors.textSecondary},onMouseEnter:o=>{l!=="list"&&(o.currentTarget.style.color=e.colors.text)},onMouseLeave:o=>{l!=="list"&&(o.currentTarget.style.color=e.colors.textSecondary)},children:s.jsx(U,{size:20})})]})]}),w&&s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:e.colors.textSecondary},children:"当前筛选："}),d&&s.jsxs("span",{className:"px-2 py-1 text-white text-sm rounded",style:{backgroundColor:e.colors.primary},children:["搜索: ",d]}),s.jsx("button",{onClick:b,className:"px-2 py-1 text-white text-sm rounded transition-colors",style:{backgroundColor:e.colors.surface},onMouseEnter:o=>{o.currentTarget.style.backgroundColor=e.colors.hover},onMouseLeave:o=>{o.currentTarget.style.backgroundColor=e.colors.surface},children:"清除所有"})]})]}),f&&s.jsx("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:`1px solid ${e.colors.error}`},children:s.jsxs("p",{style:{color:e.colors.error},children:["加载游戏时出现错误: ",f]})}),k?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 rounded-full animate-spin",style:{borderColor:`${e.colors.textSecondary}20`,borderTopColor:e.colors.text}}),s.jsx("p",{className:"text-sm",style:{color:e.colors.textSecondary},children:"正在加载游戏..."})]})}):p.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",style:{color:e.colors.textSecondary},children:"🎮"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:e.colors.text},children:"暂无游戏"}),s.jsx("p",{className:"mb-6",style:{color:e.colors.textSecondary},children:d?"没有找到匹配的游戏":"暂时没有游戏"}),d&&s.jsx("button",{onClick:b,className:"text-white px-6 py-2 rounded-lg transition-colors",style:{backgroundColor:e.colors.primary},onMouseEnter:o=>{o.currentTarget.style.backgroundColor=e.colors.hover},onMouseLeave:o=>{o.currentTarget.style.backgroundColor=e.colors.primary},children:"清除搜索"})]}):s.jsx("div",{className:l==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:p.map(o=>s.jsx(K,{children:s.jsx(O,{game:o,variant:l==="list"?"detailed":"homepage",onPlay:L,onToggleFavorite:E,showRating:!0,showControls:l==="list"})},o.id))}),t>1&&s.jsxs("div",{className:"mt-8 rounded-lg p-6",style:{backgroundColor:e.colors.surface},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm",style:{color:e.colors.textSecondary},children:["显示第 ",(r-1)*n+1," - ",Math.min(r*n,i.length)," 个游戏，共 ",i.length," 个游戏"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:G,disabled:r===1,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",style:{backgroundColor:e.colors.surface,color:r===1?e.colors.textSecondary:e.colors.text,cursor:r===1?"not-allowed":"pointer",opacity:r===1?.5:1},onMouseEnter:o=>{r!==1&&(o.currentTarget.style.backgroundColor=e.colors.hover)},onMouseLeave:o=>{r!==1&&(o.currentTarget.style.backgroundColor=e.colors.surface)},children:[s.jsx(X,{size:16}),"上一页"]}),s.jsx("div",{className:"flex items-center gap-1",children:z().map(o=>s.jsx("button",{onClick:()=>u(o),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors",style:{backgroundColor:r===o?e.colors.primary:e.colors.surface,color:e.colors.text},onMouseEnter:c=>{r!==o&&(c.currentTarget.style.backgroundColor=e.colors.hover)},onMouseLeave:c=>{r!==o&&(c.currentTarget.style.backgroundColor=e.colors.surface)},children:o},o))}),s.jsxs("button",{onClick:F,disabled:r===t,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",style:{backgroundColor:e.colors.surface,color:r===t?e.colors.textSecondary:e.colors.text,cursor:r===t?"not-allowed":"pointer",opacity:r===t?.5:1},onMouseEnter:o=>{r!==t&&(o.currentTarget.style.backgroundColor=e.colors.hover)},onMouseLeave:o=>{r!==t&&(o.currentTarget.style.backgroundColor=e.colors.surface)},children:["下一页",s.jsx(W,{size:16})]})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 pt-4 border-t",style:{borderColor:e.colors.border},children:[s.jsx("span",{className:"text-sm",style:{color:e.colors.textSecondary},children:"快速跳转："}),s.jsx("select",{value:r,onChange:o=>u(Number(o.target.value)),className:"px-3 py-1 rounded text-sm focus:outline-none",style:{backgroundColor:e.colors.surface,color:e.colors.text,border:`1px solid ${e.colors.border}`},children:Array.from({length:t},(o,c)=>c+1).map(o=>s.jsxs("option",{value:o,children:["第 ",o," 页"]},o))})]})]})]})]})};export{le as default};
