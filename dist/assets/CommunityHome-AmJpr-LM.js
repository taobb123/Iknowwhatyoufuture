import{u as S,r as t,K as y,M as g,O as n,j as e,Q as i}from"./index-BAUYqbCF.js";import{g as b,a as p}from"./databaseBoardManager-DLlDjACq.js";const E=()=>{const{currentTheme:s}=S(),[d,x]=t.useState([]),[m,u]=t.useState([]),[c,h]=t.useState([]),[j,l]=t.useState(!0);t.useEffect(()=>{v()},[]);const v=async()=>{try{console.log("å¼€å§‹åŠ è½½ç¤¾åŒºæ•°æ®...");const o=await b(),r=y(),a=g().slice(0,5);if(console.log("åŠ è½½çš„æ•°æ®:",{boards:o.length,topics:r.length,articles:a.length}),o.length===0||r.length===0){console.log("æ•°æ®ä¸å­˜åœ¨ï¼Œåˆ›å»ºæµ‹è¯•æ•°æ®..."),N();return}x(o),u(r),h(a),l(!1)}catch(o){console.error("åŠ è½½æ•°æ®å¤±è´¥:",o),l(!1)}},N=async()=>{try{console.log("åˆ›å»ºæµ‹è¯•æ•°æ®...");const o=await p({name:"æ¸¸æˆæ”»ç•¥",description:"åˆ†äº«å„ç§æ¸¸æˆçš„æ”»ç•¥å’ŒæŠ€å·§",icon:"ðŸŽ®",color:"from-blue-600 to-purple-600",order:0,isActive:!0}),r=await p({name:"æŠ€æœ¯è®¨è®º",description:"å‰ç«¯å¼€å‘å’ŒæŠ€æœ¯äº¤æµ",icon:"ðŸ’»",color:"from-green-600 to-teal-600",order:0,isActive:!0}),a=n({name:"æ–°æ‰‹å…¥é—¨",description:"é€‚åˆæ–°æ‰‹çš„æ¸¸æˆæ”»ç•¥",boardId:o.id,icon:"ðŸŒŸ",color:"from-yellow-500 to-orange-500"}),C=n({name:"é«˜çº§æŠ€å·§",description:"é«˜çº§çŽ©å®¶åˆ†äº«çš„æŠ€å·§",boardId:o.id,icon:"âš¡",color:"from-purple-500 to-pink-500"}),L=n({name:"å‰ç«¯å¼€å‘",description:"å‰ç«¯æŠ€æœ¯è®¨è®º",boardId:r.id,icon:"ðŸŽ¨",color:"from-indigo-500 to-blue-500"});console.log("æµ‹è¯•æ•°æ®åˆ›å»ºå®Œæˆ");const f=await b(),T=y(),k=g().slice(0,5);x(f),u(T),h(k),l(!1)}catch(o){console.error("åˆ›å»ºæµ‹è¯•æ•°æ®å¤±è´¥:",o),l(!1)}};return j?e.jsx("div",{className:"min-h-screen text-white flex items-center justify-center",style:{backgroundColor:s.colors.background},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:s.colors.textSecondary}}),e.jsx("p",{style:{color:s.colors.text},children:"åŠ è½½ä¸­..."})]})}):e.jsx("div",{className:"min-h-screen text-white pt-20",style:{backgroundColor:s.colors.background},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"rounded-2xl p-8 mb-8",style:{background:`linear-gradient(135deg, ${s.colors.primary}, ${s.colors.secondary})`,borderRadius:s.borderRadius.xl},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:s.colors.text},children:"æ¸¸æˆç¤¾åŒº"}),e.jsx("p",{className:"text-xl mb-6",style:{color:s.colors.textSecondary},children:"åˆ†äº«æ¸¸æˆæ”»ç•¥ï¼Œäº¤æµæŠ€æœ¯å¿ƒå¾—ï¼Œå‘çŽ°æ›´å¤šç²¾å½©å†…å®¹"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:s.colors.text},children:d.length}),e.jsx("div",{style:{color:s.colors.textSecondary},children:"æ¿å—"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:s.colors.text},children:m.length}),e.jsx("div",{style:{color:s.colors.textSecondary},children:"ä¸»é¢˜"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:s.colors.text},children:c.length}),e.jsx("div",{style:{color:s.colors.textSecondary},children:"æ–‡ç« "})]})]})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:s.colors.text},children:"çƒ­é—¨æ¿å—"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(o=>e.jsxs("div",{className:"rounded-xl p-6 transition-colors",style:{backgroundColor:s.colors.surface,borderRadius:s.borderRadius.xl},onMouseEnter:r=>{r.currentTarget.style.backgroundColor=s.colors.hover},onMouseLeave:r=>{r.currentTarget.style.backgroundColor=s.colors.surface},children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("span",{className:"text-3xl mr-3",children:o.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",style:{color:s.colors.text},children:o.name}),e.jsxs("p",{className:"text-sm",style:{color:s.colors.textSecondary},children:[o.topicCount," ä¸ªä¸»é¢˜"]})]})]}),e.jsx("p",{className:"mb-4",style:{color:s.colors.textSecondary},children:o.description}),e.jsx(i,{to:`/board/${o.id}`,className:"inline-flex items-center transition-colors",style:{color:s.colors.primary},onMouseEnter:r=>{r.currentTarget.style.color=s.colors.hover},onMouseLeave:r=>{r.currentTarget.style.color=s.colors.primary},children:"è¿›å…¥æ¿å— â†’"})]},o.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:s.colors.text},children:"çƒ­é—¨ä¸»é¢˜"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(o=>e.jsxs("div",{className:"rounded-lg p-4 transition-colors",style:{backgroundColor:s.colors.surface,borderRadius:s.borderRadius.lg},onMouseEnter:r=>{r.currentTarget.style.backgroundColor=s.colors.hover},onMouseLeave:r=>{r.currentTarget.style.backgroundColor=s.colors.surface},children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-2xl mr-2",children:o.icon}),e.jsx("h3",{className:"text-lg font-semibold",style:{color:s.colors.text},children:o.name})]}),e.jsx("p",{className:"text-sm mb-2",style:{color:s.colors.textSecondary},children:o.description}),e.jsx(i,{to:`/topic/${o.id}`,className:"text-sm transition-colors",style:{color:s.colors.primary},onMouseEnter:r=>{r.currentTarget.style.color=s.colors.hover},onMouseLeave:r=>{r.currentTarget.style.color=s.colors.primary},children:"æŸ¥çœ‹ä¸»é¢˜ â†’"})]},o.id))})]}),c.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:s.colors.text},children:"æœ€æ–°æ–‡ç« "}),e.jsx("div",{className:"space-y-4",children:c.map(o=>e.jsxs("div",{className:"rounded-lg p-4 transition-colors",style:{backgroundColor:s.colors.surface,borderRadius:s.borderRadius.lg},onMouseEnter:r=>{r.currentTarget.style.backgroundColor=s.colors.hover},onMouseLeave:r=>{r.currentTarget.style.backgroundColor=s.colors.surface},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:s.colors.text},children:o.title}),e.jsxs("p",{className:"text-sm mb-2",style:{color:s.colors.textSecondary},children:[o.content.substring(0,100),"..."]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm",style:{color:s.colors.textSecondary},children:["ä½œè€…: ",o.author]}),e.jsx(i,{to:`/article/${o.id}`,className:"text-sm transition-colors",style:{color:s.colors.primary},onMouseEnter:r=>{r.currentTarget.style.color=s.colors.hover},onMouseLeave:r=>{r.currentTarget.style.color=s.colors.primary},children:"é˜…è¯»å…¨æ–‡ â†’"})]})]},o.id))})]})]})})};export{E as default};
