import{u as m,a as G,j as a,H as n,C as y,S as P}from"./index-Du8BMbyU.js";import{P as V,e as U}from"./useGameData-DcCl1A7y.js";const R=(s,r)=>({racing:r.colors.error,action:r.colors.warning,adventure:r.colors.success,puzzle:r.colors.primary,shooting:r.colors.accent,rpg:r.colors.secondary,arcade:r.colors.warning,io:r.colors.primary,casual:r.colors.success,other:r.colors.textSecondary})[s||"other"]||r.colors.textSecondary,D=s=>{switch(s){case"compact":return"h-32";case"detailed":return"h-64";default:return"h-48"}},C=({game:s,variant:r="homepage",onPlay:t,onToggleFavorite:c,isFavorite:l=!1,showRating:g=!0,showControls:L=!0,className:j=""})=>{const{currentTheme:o}=m(),{t:i}=G(),N=()=>{t&&t(s.id)},d=e=>{e.stopPropagation(),c&&c(s.id)},u=e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),N())},S=D(r),x=R(s.category,o),k={backgroundColor:o.components.gameCard.background,borderColor:o.components.gameCard.border,boxShadow:o.components.gameCard.shadow,borderRadius:o.borderRadius.lg,transition:"all 0.3s ease",cursor:"pointer",overflow:"hidden",border:r==="featured"?`2px solid ${o.colors.warning}`:`1px solid ${o.components.gameCard.border}`},I={transform:r==="homepage"||r==="featured"?"scale(1.05)":"scale(1.02)",boxShadow:o.components.gameCard.hover.shadow};return a.jsxs("div",{className:`${j} transition-all duration-300 hover:scale-105`,style:k,onClick:N,onKeyDown:u,role:"button",tabIndex:0,"aria-label":`打开游戏: ${s.title}`,onMouseEnter:e=>{Object.assign(e.currentTarget.style,I)},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow=o.components.gameCard.shadow},children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:s.image,alt:s.title,className:`w-full ${S} object-cover`,loading:"lazy",onError:e=>{const M=e.target;M.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjczIiBoZWlnaHQ9IjE1MyIgdmlld0JveD0iMCAwIDI3MyAxNTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNzMiIGhlaWdodD0iMTUzIiBmaWxsPSIjMzc0MTUxIi8+CjxwYXRoIGQ9Ik0xMzYuNSAzNy41QzE0MS4zIDM3LjUgMTQ1LjEgNDEuMyAxNDUuMSA0Ni4xVjEwNi45QzE0NS4xIDExMS43IDE0MS4zIDExNS41IDEzNi41IDExNS41SDQ2LjFDNDEuMyAxMTUuNSAzNy41IDExMS43IDM3LjUgMTA2LjlWNDYuMUMzNy41IDQxLjMgNDEuMyAzNy41IDQ2LjEgMzcuNUgxMzYuNVoiIGZpbGw9IiM2MzY2RjEiLz4KPHBhdGggZD0iTTEwOS41IDY5LjVIMTEzLjVWNzMuNUgxMDkuNVY2OS41WiIgZmlsbD0iI0ZGRkZGRiIvPgo8cGF0aCBkPSJNMTE3LjUgNjkuNUgxMjEuNVY3My41SDExNy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTI1LjUgNjkuNUgxMjkuNVY3My41SDEyNS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTMzLjUgNjkuNUgxMzcuNVY3My41SDEzMy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQxLjUgNjkuNUgxNDUuNVY3My41SDE0MS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgNjkuNUgxNTMuNVY4MS41SDE0OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgNzcuNUgxNjEuNVY4MS41SDE1Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgNzcuNUgxNjkuNVY4MS41SDE2NS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgNzcuNUgxNzcuNVY4MS41SDE3My41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgNzcuNUgxODUuNVY4MS41SDE4MS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgNzcuNUgxOTMuNVY4MS41SDE4OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgNzcuNUgyMDEuNVY4MS41SDE5Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgODUuNUgxNTMuNVY4OS41SDE0OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgODUuNUgxNjEuNVY4OS41SDE1Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgODUuNUgxNjkuNVY4OS41SDE2NS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgODUuNUgxNzcuNVY4OS41SDE3My41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgODUuNUgxODUuNVY4OS41SDE4MS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgODUuNUgxOTMuNVY4OS41SDE4OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgODUuNUgyMDEuNVY4OS41SDE5Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgOTMuNUgxNTMuNVY5Ny41SDE0OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgOTMuNUgxNjEuNVY5Ny41SDE1Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgOTMuNUgxNjkuNVY5Ny41SDE2NS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgOTMuNUgxNzcuNVY5Ny41SDE3My41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgOTMuNUgxODUuNVY5Ny41SDE4MS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgOTMuNUgxOTMuNVY5Ny41SDE4OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgOTMuNUgyMDEuNVY5Ny41SDE5Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8L3N2Zz4K"}}),a.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:x,borderRadius:o.borderRadius.sm},children:s.category||"其他"}),s.isNew&&a.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 text-white text-xs font-semibold rounded",style:{backgroundColor:o.colors.success,borderRadius:o.borderRadius.sm},children:i("games.newGame")}),c&&a.jsx("button",{onClick:d,className:"absolute bottom-2 right-2 p-2 backdrop-blur-md rounded-full text-white transition-all duration-200 hover:scale-110",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:o.borderRadius.full},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.7)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.5)"},"aria-label":i(l?"games.removeFavorite":"games.addFavorite"),children:a.jsx(n,{size:16,className:l?"text-red-500 fill-current":"text-white"})}),a.jsx("div",{className:"absolute inset-0 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100",style:{backgroundColor:"rgba(0, 0, 0, 0)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0)"},children:a.jsx("div",{className:"backdrop-blur-md rounded-full p-3",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:o.borderRadius.full},children:a.jsx(V,{size:24,className:"text-white"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-1",style:{color:o.components.gameCard.title.color,fontSize:o.components.gameCard.title.fontSize},children:s.title}),a.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:o.components.gameCard.description.color,fontSize:o.components.gameCard.description.fontSize},children:s.description}),g&&a.jsx("div",{className:"mb-3",children:a.jsx(U,{gameId:s.id,onRatingChange:()=>{}})}),a.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",style:{color:o.colors.textSecondary},children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(n,{size:14,className:"text-red-400"}),a.jsx("span",{children:s.likes})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(y,{size:14,className:"text-blue-400"}),a.jsx("span",{children:s.duration})]}),r==="detailed"&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(P,{size:14,className:"text-yellow-400"}),a.jsxs("span",{children:[(s.likes/1e3).toFixed(1),"k"]})]})]})]})]})};export{C as S};
