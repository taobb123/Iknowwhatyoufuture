import{l as c,e as x,j as e,N as m}from"./index-DjexH7CO.js";const d=({children:r,requiredRole:t="user",fallbackPath:a="/login"})=>{const{state:s,hasPermission:i}=c(),n=x();return s.isLoading?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{children:"加载中..."})]})}):s.isAuthenticated?i(t)?e.jsx(e.Fragment,{children:r}):e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-400 text-xl mb-4",children:"权限不足"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"您没有访问此页面的权限"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["需要权限：",t==="user"?"普通用户":t==="admin"?"管理员":"超级管理员"]})]})}):e.jsx(m,{to:a,state:{from:n},replace:!0})};export{d as P};
