import{c as y,j as t,r as g,S as h,H as S,C as G,f as u}from"./index-BX79HJ6J.js";import{H as M}from"./Helmet-DHglXhQq.js";import{H as v}from"./home-DA2InE6o.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Z=({title:e="免费在线游戏 - 最热门的浏览器游戏",description:a="发现最热门的免费在线游戏！包含赛车、射击、冒险、益智等多种类型的高质量浏览器游戏，无需下载，立即开始游戏！",keywords:s="免费游戏,在线游戏,浏览器游戏,赛车游戏,射击游戏,冒险游戏,益智游戏,多人游戏",image:r="/racing-horizon.jpg",url:i="https://your-domain.com",type:n="website"})=>t.jsxs(M,{children:[t.jsx("script",{async:!0,src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9581059198364443",crossorigin:"anonymous"}),t.jsx("title",{children:e}),t.jsx("meta",{name:"description",content:a}),t.jsx("meta",{name:"keywords",content:s}),t.jsx("meta",{name:"author",content:"Your Gaming Site"}),t.jsx("meta",{name:"robots",content:"index, follow"}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t.jsx("meta",{property:"og:title",content:e}),t.jsx("meta",{property:"og:description",content:a}),t.jsx("meta",{property:"og:image",content:r}),t.jsx("meta",{property:"og:url",content:i}),t.jsx("meta",{property:"og:type",content:n}),t.jsx("meta",{property:"og:site_name",content:"Your Gaming Site"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:title",content:e}),t.jsx("meta",{name:"twitter:description",content:a}),t.jsx("meta",{name:"twitter:image",content:r}),t.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"WebSite",name:"Your Gaming Site",description:a,url:i,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${i}/search?q={search_term_string}`},"query-input":"required name=search_term_string"}})}),t.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"ItemList",name:"免费在线游戏列表",description:"最热门的免费浏览器游戏集合",url:i,numberOfItems:12,itemListElement:[{"@type":"Game",name:"Truck Hit Hero: Isekai Arena",description:"2D RPG platformer inspired by classic isekai tales",genre:"Adventure",playMode:"SinglePlayer",gamePlatform:"Web Browser"}]})})]}),V=({gameId:e,initialRating:a=0,onRatingChange:s})=>{const[r,i]=g.useState(a),[n,c]=g.useState(0);g.useEffect(()=>{const o=localStorage.getItem(`game_rating_${e}`);if(o){const j=parseInt(o,10);i(j)}},[e]);const N=o=>{i(o),localStorage.setItem(`game_rating_${e}`,o.toString()),s==null||s(o),typeof window<"u"&&window.gtag&&window.gtag("event","game_rating",{game_id:e,rating:o})},d=o=>{c(o)},m=()=>{c(0)};return t.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(o=>{const j=o<=(n||r);return t.jsx("button",{onClick:()=>N(o),onMouseEnter:()=>d(o),onMouseLeave:m,className:`transition-colors duration-200 ${j?"text-yellow-400 hover:text-yellow-300":"text-gray-400 hover:text-yellow-200"}`,"aria-label":`Rate ${o} star${o>1?"s":""}`,children:t.jsx(h,{size:16,fill:j?"currentColor":"none"})},o)}),r>0&&t.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:[r,"/5"]})]})},f=e=>({racing:"bg-red-500",action:"bg-orange-500",adventure:"bg-green-500",puzzle:"bg-blue-500",shooting:"bg-purple-500",rpg:"bg-pink-500",arcade:"bg-yellow-500",io:"bg-indigo-500",other:"bg-gray-500"})[e||"other"]||"bg-gray-500",L=e=>{const a="bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer";switch(e){case"homepage":return`${a} hover:scale-105`;case"search":return`${a} hover:scale-102`;case"featured":return`${a} hover:scale-105 border-2 border-yellow-400/30 hover:border-yellow-400/60`;case"compact":return`${a} hover:scale-102`;case"detailed":return`${a} hover:scale-102`;default:return a}},U=e=>{switch(e){case"compact":return"h-32";case"detailed":return"h-64";default:return"h-48"}},w=({game:e,variant:a="homepage",onPlay:s,onToggleFavorite:r,isFavorite:i=!1,showRating:n=!0,showControls:c=!0,className:N=""})=>{const d=()=>{s&&s(e.id)},m=l=>{l.stopPropagation(),r&&r(e.id)},o=l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),d())},j=L(a),p=U(a),I=f(e.category);return t.jsxs("div",{className:`${j} ${N}`,onClick:d,onKeyDown:o,role:"button",tabIndex:0,"aria-label":`打开游戏: ${e.title}`,children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:e.image,alt:e.title,className:`w-full ${p} object-cover`,loading:"lazy",onError:l=>{const x=l.target;x.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjczIiBoZWlnaHQ9IjE1MyIgdmlld0JveD0iMCAwIDI3MyAxNTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNzMiIGhlaWdodD0iMTUzIiBmaWxsPSIjMzc0MTUxIi8+CjxwYXRoIGQ9Ik0xMzYuNSAzNy41QzE0MS4zIDM3LjUgMTQ1LjEgNDEuMyAxNDUuMSA0Ni4xVjEwNi45QzE0NS4xIDExMS43IDE0MS4zIDExNS41IDEzNi41IDExNS41SDQ2LjFDNDEuMyAxMTUuNSAzNy41IDExMS43IDM3LjUgMTA2LjlWNDYuMUMzNy41IDQxLjMgNDEuMyAzNy41IDQ2LjEgMzcuNUgxMzYuNVoiIGZpbGw9IiM2MzY2RjEiLz4KPHBhdGggZD0iTTEwOS41IDY5LjVIMTEzLjVWNzMuNUgxMDkuNVY2OS41WiIgZmlsbD0iI0ZGRkZGRiIvPgo8cGF0aCBkPSJNMTE3LjUgNjkuNUgxMjEuNVY3My41SDExNy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTI1LjUgNjkuNUgxMjkuNVY3My41SDEyNS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTMzLjUgNjkuNUgxMzcuNVY3My41SDEzMy41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQxLjUgNjkuNUgxNDUuNVY3My41SDE0MS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgNjkuNUgxNTMuNVY3My41SDE0OS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgNjkuNUgxNjEuNVY3My41SDE1Ny41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgNjkuNUgxNjkuNVY3My41SDE2NS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgNjkuNUgxNzcuNVY3My41SDE3My41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgNjkuNUgxODUuNVY3My41SDE4MS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgNjkuNUgxOTMuNVY3My41SDE4OS41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgNjkuNUgyMDEuNVY3My41SDE5Ny41VjY5LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgNzcuNUgxNTMuNVY4MS41SDE0OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgNzcuNUgxNjEuNVY4MS41SDE1Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgNzcuNUgxNjkuNVY4MS41SDE2NS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgNzcuNUgxNzcuNVY4MS41SDE3My41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgNzcuNUgxODUuNVY4MS41SDE4MS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgNzcuNUgxOTMuNVY4MS41SDE4OS41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgNzcuNUgyMDEuNVY4MS41SDE5Ny41Vjc3LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgODUuNUgxNTMuNVY4OS41SDE0OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgODUuNUgxNjEuNVY4OS41SDE1Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgODUuNUgxNjkuNVY4OS41SDE2NS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgODUuNUgxNzcuNVY4OS41SDE3My41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgODUuNUgxODUuNVY4OS41SDE4MS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgODUuNUgxOTMuNVY4OS41SDE4OS41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgODUuNUgyMDEuNVY4OS41SDE5Ny41Vjg1LjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTQ5LjUgOTMuNUgxNTMuNVY5Ny41SDE0OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTU3LjUgOTMuNUgxNjEuNVY5Ny41SDE1Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTY1LjUgOTMuNUgxNjkuNVY5Ny41SDE2NS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTczLjUgOTMuNUgxNzcuNVY5Ny41SDE3My41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTgxLjUgOTMuNUgxODUuNVY5Ny41SDE4MS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTg5LjUgOTMuNUgxOTMuNVY5Ny41SDE4OS41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8cGF0aCBkPSJNMTk3LjUgOTMuNUgyMDEuNVY5Ny41SDE5Ny41VjkzLjVaIiBmaWxsPSIjRkZGRkZGIi8vPgo8L3N2Zz4K"}}),t.jsx("div",{className:`absolute top-2 left-2 px-2 py-1 rounded text-xs font-semibold ${I}`,children:e.category||"其他"}),e.isNew&&t.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-green-500 text-white text-xs font-semibold rounded",children:"新游戏"}),r&&t.jsx("button",{onClick:m,className:"absolute bottom-2 right-2 p-2 bg-black/50 hover:bg-black/70 backdrop-blur-md rounded-full text-white transition-all duration-200 hover:scale-110","aria-label":i?"取消收藏":"添加收藏",children:t.jsx(S,{size:16,className:i?"text-red-500 fill-current":"text-white"})}),t.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/20 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100",children:t.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-full p-3",children:t.jsx(b,{size:24,className:"text-white"})})})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2 text-white line-clamp-1",children:e.title}),t.jsx("p",{className:"text-gray-300 text-sm mb-3 line-clamp-2",children:e.description}),n&&t.jsx("div",{className:"mb-3",children:t.jsx(V,{gameId:e.id,onRatingChange:l=>console.log(`Game ${e.id} rated ${l} stars`)})}),a!=="compact"&&t.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.features.slice(0,a==="detailed"?6:3).map((l,x)=>t.jsx("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs",children:l},x))}),t.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-400 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(S,{size:14,className:"text-red-400"}),t.jsx("span",{children:e.likes})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(G,{size:14,className:"text-blue-400"}),t.jsx("span",{children:e.duration})]}),a==="detailed"&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(h,{size:14,className:"text-yellow-400"}),t.jsxs("span",{children:[(e.likes/1e3).toFixed(1),"k"]})]})]}),c&&a!=="compact"&&t.jsx("div",{className:"text-xs text-gray-500",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:e.controls.slice(0,a==="detailed"?4:2).map((l,x)=>t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold text-gray-400",children:l.key}),": ",l.action]},x))})})]})]})};class B extends g.Component{constructor(a){super(a),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,s){this.setState({error:a,errorInfo:s}),this.props.onError&&this.props.onError(a,s),console.error("ErrorBoundary caught an error:",a,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:t.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full bg-gray-800 rounded-lg p-8 text-center",children:[t.jsx("div",{className:"mb-6",children:t.jsx(k,{size:64,className:"text-red-500 mx-auto"})}),t.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"哎呀！出现了错误"}),t.jsx("p",{className:"text-gray-300 mb-6",children:"很抱歉，页面遇到了问题。请尝试刷新页面或返回首页。"}),!1,t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[t.jsx(P,{size:16}),"重试"]}),t.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[t.jsx(v,{size:16}),"返回首页"]})]}),t.jsx("div",{className:"mt-6 text-sm text-gray-400",children:t.jsx("p",{children:"如果问题持续存在，请联系技术支持"})})]})}):this.props.children}}const C=({children:e})=>t.jsx(B,{onError:(a,s)=>{console.error("Game Error:",a,s)},fallback:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[t.jsx(k,{size:48,className:"text-red-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"游戏加载失败"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"无法加载游戏，请稍后重试"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"刷新页面"})]}),children:e}),z=()=>{try{const{state:e,filteredGames:a,favoriteGames:s}=u();return{games:(e==null?void 0:e.games)||[],filteredGames:a||[],favoriteGames:s||[],isLoading:(e==null?void 0:e.isLoading)||!1,error:(e==null?void 0:e.error)||null,searchQuery:(e==null?void 0:e.searchQuery)||"",selectedCategory:(e==null?void 0:e.selectedCategory)||"all",sortBy:(e==null?void 0:e.sortBy)||"newest"}}catch{return{games:[],filteredGames:[],favoriteGames:[],isLoading:!1,error:null,searchQuery:"",selectedCategory:"all",sortBy:"newest"}}},T=()=>{try{const{toggleFavorite:e,setSearchQuery:a,setCategory:s,setSortBy:r,updateGameLikes:i}=u();return{toggleFavorite:e,setSearchQuery:a,setCategory:s,setSortBy:r,updateGameLikes:i}}catch{return{toggleFavorite:()=>{},setSearchQuery:()=>{},setCategory:()=>{},setSortBy:()=>{},updateGameLikes:()=>{}}}},Y=()=>{try{const{state:e,setSearchQuery:a,setCategory:s,setSortBy:r}=u(),i=g.useCallback(()=>{a(""),s("all"),r("newest")},[a,s,r]),n=((e==null?void 0:e.searchQuery)||"")!==""||((e==null?void 0:e.selectedCategory)||"all")!=="all"||((e==null?void 0:e.sortBy)||"newest")!=="newest";return{searchQuery:(e==null?void 0:e.searchQuery)||"",selectedCategory:(e==null?void 0:e.selectedCategory)||"all",sortBy:(e==null?void 0:e.sortBy)||"newest",setSearchQuery:a,setCategory:s,setSortBy:r,clearFilters:i,hasActiveFilters:n}}catch{return{searchQuery:"",selectedCategory:"all",sortBy:"newest",setSearchQuery:()=>{},setCategory:()=>{},setSortBy:()=>{},clearFilters:()=>{},hasActiveFilters:!1}}},F=()=>{try{const{state:e,toggleFavorite:a,favoriteGames:s}=u(),r=g.useCallback(c=>((e==null?void 0:e.favorites)||[]).includes(c),[e==null?void 0:e.favorites]),i=g.useCallback(c=>{r(c)||a(c)},[a,r]),n=g.useCallback(c=>{r(c)&&a(c)},[a,r]);return{favorites:(e==null?void 0:e.favorites)||[],favoriteGames:s||[],isFavorite:r,toggleFavorite:a,addToFavorites:i,removeFromFavorites:n,favoriteCount:((e==null?void 0:e.favorites)||[]).length}}catch{return{favorites:[],favoriteGames:[],isFavorite:()=>!1,toggleFavorite:()=>{},addToFavorites:()=>{},removeFromFavorites:()=>{},favoriteCount:0}}},O=()=>{try{const{state:e,setSortBy:a}=u();return{sortOptions:[{value:"newest",label:"最新"},{value:"popular",label:"最热门"},{value:"rating",label:"评分最高"},{value:"name",label:"按名称"}],currentSort:(e==null?void 0:e.sortBy)||"newest",setSortBy:a}}catch{return{sortOptions:[{value:"newest",label:"最新"},{value:"popular",label:"最热门"},{value:"rating",label:"评分最高"},{value:"name",label:"按名称"}],currentSort:"newest",setSortBy:()=>{}}}};export{C as G,P as R,Z as S,w as a,T as b,F as c,Y as d,O as e,z as u};
