import{c as S,R as L,j as e,r as n,L as E,G as w,H as F,S as N,X as z}from"./index-BCw3XfMH.js";import{R as I,G as $,a as M,u as T,b as R,S as H}from"./useGameData-BRWvDlJo.js";import{T as k}from"./target-wmRGuXp_.js";import{T as U}from"./trending-up-kt1TWdQO.js";import{U as _}from"./users-C_VIkVoL.js";import"./home-Eqj_ZJ0W.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=S("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),G=({adSlot:r,adFormat:s="auto",adStyle:l={display:"block"},className:t=""})=>(L.useEffect(()=>{const a=document.createElement("script");a.async=!0,a.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_PUBLISHER_ID",a.crossOrigin="anonymous",document.querySelector('script[src*="googlesyndication.com"]')||document.head.appendChild(a);try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch{}},[]),e.jsx("div",{className:`ad-banner ${t}`,children:e.jsx("ins",{className:"adsbygoogle",style:l,"data-ad-client":"ca-pub-YOUR_PUBLISHER_ID","data-ad-slot":r,"data-ad-format":s,"data-full-width-responsive":"true"})})),P=({error:r,onRetry:s,className:l="",showRetry:t=!0})=>{const a=typeof r=="string"?r:r.message;return e.jsx("div",{className:`mb-8 p-4 bg-red-900/20 border border-red-500/30 rounded-lg ${l}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(D,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-red-400 font-semibold mb-1",children:"å‡ºç°é”™è¯¯"}),e.jsx("p",{className:"text-red-300 text-sm",children:a}),t&&s&&e.jsxs("button",{onClick:s,className:"mt-3 inline-flex items-center space-x-2 px-3 py-1.5 bg-red-600/20 hover:bg-red-600/30 text-red-300 rounded-md text-sm transition-colors",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{children:"é‡è¯•"})]})]})]})})},C=[{id:"all",name:"å…¨éƒ¨æ¸¸æˆ",icon:w,color:"from-blue-500 to-purple-600",hoverColor:"hover:from-blue-600 hover:to-purple-700",count:0},{id:"casual",name:"ä¼‘é—²æ¸¸æˆ",icon:N,color:"from-blue-500 to-cyan-600",hoverColor:"hover:from-blue-600 hover:to-cyan-700",count:0},{id:"action",name:"åŠ¨ä½œæ¸¸æˆ",icon:k,color:"from-green-500 to-teal-600",hoverColor:"hover:from-green-600 hover:to-teal-700",count:0},{id:"puzzle",name:"ç›Šæ™ºæ¸¸æˆ",icon:N,color:"from-yellow-500 to-amber-600",hoverColor:"hover:from-yellow-600 hover:to-amber-700",count:0},{id:"adventure",name:"å†’é™©æ¸¸æˆ",icon:U,color:"from-purple-500 to-pink-600",hoverColor:"hover:from-purple-600 hover:to-pink-700",count:0},{id:"io",name:"IOæ¸¸æˆ",icon:_,color:"from-purple-500 to-indigo-600",hoverColor:"hover:from-purple-600 hover:to-indigo-700",count:0},{id:"shooting",name:"å°„å‡»æ¸¸æˆ",icon:k,color:"from-red-600 to-orange-600",hoverColor:"hover:from-red-700 hover:to-orange-700",count:0},{id:"other",name:"å…¶ä»–æ¸¸æˆ",icon:w,color:"from-gray-500 to-slate-600",hoverColor:"hover:from-gray-600 hover:to-slate-700",count:0}],A=({games:r,allGames:s,isLoading:l=!1,error:t,onPlay:a,onToggleFavorite:m,onCategoryChange:h,selectedCategory:g="all",className:u="",emptyMessage:i="æš‚æ— æ¸¸æˆ"})=>{var b;const x=g,f=s&&s.length>0?s:r,j=n.useMemo(()=>C.map(c=>{const d=c.id==="all"?f.length:f.filter(y=>(y.category||"other")===c.id).length;return{...c,count:d}}),[f]),p=n.useCallback(o=>{o!==x&&(h==null||h(o))},[x,h]),v=r;return t?e.jsx(P,{error:t,className:u}):l?e.jsx("div",{className:`flex items-center justify-center py-12 ${u}`,children:e.jsx(E,{text:"æ­£åœ¨åŠ è½½æ¸¸æˆ..."})}):e.jsxs("div",{className:`bg-gradient-to-br from-gray-800 via-gray-900 to-black rounded-2xl p-6 shadow-2xl ${u}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(w,{className:"w-6 h-6 mr-2 text-yellow-400"}),"æ¸¸æˆåˆ†ç±»"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:j.map(o=>{const c=o.icon,d=x===o.id;return e.jsxs("button",{onClick:()=>p(o.id),className:`
                  relative group p-4 rounded-xl transition-all duration-300 transform
                  ${d?`bg-gradient-to-r ${o.color} shadow-lg scale-105 hover:scale-110`:`bg-gray-700/50 hover:bg-gray-600/50 ${o.hoverColor} hover:scale-105 hover:shadow-lg`}
                  border-2 ${d?"border-white/30":"border-transparent hover:border-white/20"}
                `,children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("div",{className:`
                    p-3 rounded-lg transition-all duration-300
                    ${d?"bg-white/20":"bg-gray-600/50 group-hover:bg-white/10"}
                  `,children:e.jsx(c,{className:`w-6 h-6 ${d?"text-white":"text-gray-300 group-hover:text-white"}`})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-sm font-semibold ${d?"text-white":"text-gray-300 group-hover:text-white"}`,children:o.name}),e.jsxs("div",{className:`text-xs ${d?"text-white/80":"text-gray-400 group-hover:text-white/80"}`,children:[o.count," ä¸ªæ¸¸æˆ"]})]})]}),d&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-pulse"})]},o.id)})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white",children:[x==="all"?"æ‰€æœ‰æ¸¸æˆ":(b=C.find(o=>o.id===x))==null?void 0:b.name,e.jsxs("span",{className:"ml-2 text-gray-400 text-sm",children:["(",v.length," ä¸ªæ¸¸æˆ)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"ç‚¹å‡»æ”¶è—å–œæ¬¢çš„æ¸¸æˆ"})]})]}),v.length===0?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"ğŸ®"}),e.jsx("p",{className:"text-gray-400 text-lg",children:i}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"è¯•è¯•é€‰æ‹©å…¶ä»–åˆ†ç±»"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(o=>e.jsx($,{children:e.jsx(M,{game:o,variant:"homepage",onPlay:a,onToggleFavorite:m,showRating:!0,showControls:!0})},o.id))})]})]})},B=()=>{const[r,s]=n.useState(!1);n.useEffect(()=>{const t=()=>{const a=!!document.fullscreenElement;s(a)};return document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t),()=>{document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t)}},[]);const l=n.useCallback(async()=>{try{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(t){console.error("å…¨å±åˆ‡æ¢å¤±è´¥:",t)}},[]);return{isFullscreen:r,toggleFullscreen:l}},O=({game:r,isOpen:s,onClose:l,isLoading:t=!1,onLoadComplete:a})=>{const{isFullscreen:m,toggleFullscreen:h}=B(),[g,u]=n.useState(!0);return n.useEffect(()=>{const i=x=>{x.key==="Escape"&&s&&l()};if(s)return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[s,l]),n.useEffect(()=>{if(s&&r){u(!0);const i=setTimeout(()=>{u(!1),a==null||a()},2e3);return()=>clearTimeout(i)}},[s,r,a]),!s||!r?null:e.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col animate-in fade-in duration-300",onClick:l,children:[e.jsx("div",{className:"flex-shrink-0 z-10",onClick:i=>i.stopPropagation(),children:e.jsx("div",{className:"bg-gradient-to-b from-black/90 to-transparent p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-white drop-shadow-lg",children:r.title}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:h,className:"p-3 bg-black/50 hover:bg-black/70 backdrop-blur-md rounded-xl text-white transition-all duration-200 hover:scale-110 hover:shadow-lg border border-white/20 hover:border-white/40",title:m?"é€€å‡ºå…¨å±":"å…¨å±",children:m?"â¤“":"â¤¢"}),e.jsx("button",{onClick:l,className:"p-3 bg-black/50 hover:bg-red-600/70 backdrop-blur-md rounded-xl text-white transition-all duration-200 hover:scale-110 hover:shadow-lg border border-white/20 hover:border-red-400/60",title:"å…³é—­æ¸¸æˆ",children:e.jsx(z,{size:20})})]})]})})}),e.jsxs("div",{className:"flex-1 relative",onClick:i=>i.stopPropagation(),children:[(t||g)&&e.jsx("div",{className:"absolute top-4 right-4 z-30",children:e.jsx(G,{adSlot:"0987654321",adFormat:"rectangle",className:"w-48 h-32 bg-gray-800 rounded-lg"})}),e.jsxs("div",{className:"w-full h-full bg-black relative overflow-hidden",children:[(t||g)&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-20",children:e.jsx(E,{text:"æ­£åœ¨åŠ è½½æ¸¸æˆ..."})}),e.jsxs("div",{className:"w-full h-full relative game-iframe-container",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .game-iframe-container iframe {
                  width: 100% !important;
                  height: 100% !important;
                  border: none !important;
                  outline: none !important;
                  position: relative;
                  z-index: 1;
                }
                
                .game-iframe-container iframe {
                  filter: contrast(1.05) brightness(1.02) saturate(1.1);
                  transform: scale(1.01);
                  transform-origin: center;
                }
                
                .game-iframe-container::before {
                  content: '';
                  position: absolute;
                  top: 0;
                  left: 0;
                  right: 0;
                  height: 80px;
                  background: linear-gradient(to bottom, rgba(0,0,0,0.95), rgba(0,0,0,0.7), transparent);
                  z-index: 10;
                  pointer-events: none;
                }
                
                .game-iframe-container::after {
                  content: '';
                  position: absolute;
                  bottom: 0;
                  left: 0;
                  right: 0;
                  height: 100px;
                  background: linear-gradient(to top, rgba(0,0,0,0.95), rgba(0,0,0,0.7), transparent);
                  z-index: 10;
                  pointer-events: none;
                }
              `}}),e.jsx("div",{className:"w-full h-full relative",dangerouslySetInnerHTML:{__html:r.iframe}})]})]})]})]})},q=()=>{const[r,s]=n.useState(null),[l,t]=n.useState(!1),[a,m]=n.useState(!1),h=n.useCallback(i=>{s(i),t(!0),m(!0)},[]),g=n.useCallback(()=>{s(null),t(!1),m(!1)},[]),u=n.useCallback(()=>{m(!1)},[]);return{selectedGame:r,isModalOpen:l,isGameLoading:a,openGame:h,closeGame:g,handleLoadComplete:u}};function V(){const{games:r,filteredGames:s,isLoading:l,error:t,selectedCategory:a}=T(),{toggleFavorite:m,setCategory:h}=R(),{selectedGame:g,isModalOpen:u,isGameLoading:i,openGame:x,closeGame:f,handleLoadComplete:j}=q(),p=a,v=c=>{const d=s.find(y=>y.id===c);d&&x(d)},b=c=>{m(c)},o=n.useCallback(c=>{c!==p&&h(c)},[p,h]);return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"pt-16"}),e.jsx(H,{title:"çƒ­é—¨æ¸¸æˆä¸­å¿ƒ - å…è´¹åœ¨çº¿æ¸¸æˆ | Iknowwhatyoufuture",description:"ä½“éªŒæ— å¿§æ— è™‘çš„æ¸¸æˆæ—¶å…‰ï¼ç²¾é€‰æœ€çƒ­é—¨çš„å…è´¹åœ¨çº¿æ¸¸æˆï¼ŒåŒ…å«åŠ¨ä½œã€å†’é™©ã€ç›Šæ™ºã€ä¼‘é—²ç­‰å¤šç§ç±»å‹ï¼Œæ— éœ€ä¸‹è½½å³å¯ç•…ç©ï¼Œè®©æ‚¨äº«å—è½»æ¾æ„‰å¿«çš„æ¸¸æˆä½“éªŒï¼",keywords:"çƒ­é—¨æ¸¸æˆ,åœ¨çº¿æ¸¸æˆ,å…è´¹æ¸¸æˆ,æ¸¸æˆä¸­å¿ƒ,åŠ¨ä½œæ¸¸æˆ,å†’é™©æ¸¸æˆ,ç›Šæ™ºæ¸¸æˆ,ä¼‘é—²æ¸¸æˆ,æ— å¿§æ— è™‘",canonical:"https://streetracer.online/"}),e.jsxs("div",{className:"container mx-auto px-4 py-8 pt-24",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-yellow-400 mb-4",children:"ğŸ‘¾çƒ­é—¨æ¸¸æˆä¸­å¿ƒ"}),e.jsx("p",{className:"text-gray-300 text-lg",children:"ä½“éªŒæ— å¿§æ— è™‘çš„æ¸¸æˆæ—¶å…‰ï¼ç²¾é€‰æœ€çƒ­é—¨çš„å…è´¹åœ¨çº¿æ¸¸æˆï¼Œè®©æ‚¨äº«å—è½»æ¾æ„‰å¿«çš„æ¸¸æˆä½“éªŒï¼"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(G,{adSlot:"1234567890",adFormat:"horizontal",className:"w-full h-32 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400"})}),e.jsx(A,{games:s,allGames:r,isLoading:l,error:t,onPlay:v,onToggleFavorite:b,onCategoryChange:o,selectedCategory:p})]}),e.jsx(O,{game:g,isOpen:u,onClose:f,isLoading:i,onLoadComplete:j})]})}export{V as default};
