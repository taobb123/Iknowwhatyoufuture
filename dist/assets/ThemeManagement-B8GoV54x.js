import{c as P,j as e,u as xe,r as m,E as pe,P as ge}from"./index-CNCBtjWD.js";import{S as ye,a as je,b as me,c as ue,d as ve,f as M,g as T,h as H,e as w,z as p,i as be,j as Ce,k as G,l as K,m as Se,n as Ne,o as fe,p as we,q as ke,r as Q,s as k,t as z,u,v as f,w as X,B as Y,y as F}from"./StyledManagementPage-mCttjSDb.js";import{A as ze}from"./arrow-left-C5wMY0UL.js";import{P as Re}from"./plus-BrRwgUZk.js";import{Z as Ie}from"./zap-B-AhuV65.js";import{S as Me}from"./square-pen-B2mJ2UtI.js";import{T as Te}from"./trash-2-CLOmcoSU.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=P("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=P("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=P("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=P("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),_=({formData:l,onFormDataChange:v,currentTheme:i})=>{const a=(o,h,g)=>{const x={...l,[o]:{...l[o],[h]:g}};v(x)},d=({label:o,value:h,onChange:g})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"text-sm font-medium w-20",style:{color:i.colors.text},children:[o,":"]}),e.jsx("input",{type:"color",value:h,onChange:x=>g(x.target.value),className:"w-8 h-8 rounded border",style:{borderColor:i.colors.border}}),e.jsx("input",{type:"text",value:h,onChange:x=>g(x.target.value),className:"flex-1 px-2 py-1 text-sm rounded border",style:{backgroundColor:i.colors.surface,color:i.colors.text,borderColor:i.colors.border}})]}),n=({label:o,value:h,onChange:g})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"text-sm font-medium w-20",style:{color:i.colors.text},children:[o,":"]}),e.jsx("input",{type:"text",value:h,onChange:x=>g(x.target.value),className:"flex-1 px-2 py-1 text-sm rounded border",style:{backgroundColor:i.colors.surface,color:i.colors.text,borderColor:i.colors.border}})]}),b=({label:o,value:h,onChange:g})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"text-sm font-medium w-20",style:{color:i.colors.text},children:[o,":"]}),e.jsx("input",{type:"number",value:h,onChange:x=>g(Number(x.target.value)),className:"flex-1 px-2 py-1 text-sm rounded border",style:{backgroundColor:i.colors.surface,color:i.colors.text,borderColor:i.colors.border}})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:i.colors.text},children:"颜色配置"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(d,{label:"主要颜色",value:l.colors.primary,onChange:o=>a("colors","primary",o)}),e.jsx(d,{label:"次要颜色",value:l.colors.secondary,onChange:o=>a("colors","secondary",o)}),e.jsx(d,{label:"页面背景",value:l.colors.background,onChange:o=>a("colors","background",o)}),e.jsx(d,{label:"卡片背景",value:l.colors.surface,onChange:o=>a("colors","surface",o)}),e.jsx(d,{label:"主要文字",value:l.colors.text,onChange:o=>a("colors","text",o)}),e.jsx(d,{label:"次要文字",value:l.colors.textSecondary,onChange:o=>a("colors","textSecondary",o)}),e.jsx(d,{label:"强调颜色",value:l.colors.accent,onChange:o=>a("colors","accent",o)}),e.jsx(d,{label:"错误提示",value:l.colors.error,onChange:o=>a("colors","error",o)}),e.jsx(d,{label:"警告提示",value:l.colors.warning,onChange:o=>a("colors","warning",o)}),e.jsx(d,{label:"成功提示",value:l.colors.success,onChange:o=>a("colors","success",o)}),e.jsx(d,{label:"边框颜色",value:l.colors.border,onChange:o=>a("colors","border",o)}),e.jsx(d,{label:"悬停效果",value:l.colors.hover,onChange:o=>a("colors","hover",o)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:i.colors.text},children:"字体配置"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{label:"字体类型",value:l.typography.fontFamily,onChange:o=>a("typography","fontFamily",o)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium mb-2",style:{color:i.colors.text},children:"字体大小"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(n,{label:"超小号",value:l.typography.fontSize.xs,onChange:o=>a("typography","fontSize",{...l.typography.fontSize,xs:o})}),e.jsx(n,{label:"小号",value:l.typography.fontSize.sm,onChange:o=>a("typography","fontSize",{...l.typography.fontSize,sm:o})}),e.jsx(n,{label:"标准",value:l.typography.fontSize.base,onChange:o=>a("typography","fontSize",{...l.typography.fontSize,base:o})}),e.jsx(n,{label:"大号",value:l.typography.fontSize.lg,onChange:o=>a("typography","fontSize",{...l.typography.fontSize,lg:o})}),e.jsx(n,{label:"超大号",value:l.typography.fontSize.xl,onChange:o=>a("typography","fontSize",{...l.typography.fontSize,xl:o})}),e.jsx(n,{label:"特大号",value:l.typography.fontSize["2xl"],onChange:o=>a("typography","fontSize",{...l.typography.fontSize,"2xl":o})}),e.jsx(n,{label:"巨大号",value:l.typography.fontSize["3xl"],onChange:o=>a("typography","fontSize",{...l.typography.fontSize,"3xl":o})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium mb-2",style:{color:i.colors.text},children:"字体粗细"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(b,{label:"正常",value:l.typography.fontWeight.normal,onChange:o=>a("typography","fontWeight",{...l.typography.fontWeight,normal:o})}),e.jsx(b,{label:"中等",value:l.typography.fontWeight.medium,onChange:o=>a("typography","fontWeight",{...l.typography.fontWeight,medium:o})}),e.jsx(b,{label:"半粗",value:l.typography.fontWeight.semibold,onChange:o=>a("typography","fontWeight",{...l.typography.fontWeight,semibold:o})}),e.jsx(b,{label:"粗体",value:l.typography.fontWeight.bold,onChange:o=>a("typography","fontWeight",{...l.typography.fontWeight,bold:o})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium mb-2",style:{color:i.colors.text},children:"行间距"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(n,{label:"紧凑",value:l.typography.lineHeight.tight,onChange:o=>a("typography","lineHeight",{...l.typography.lineHeight,tight:o})}),e.jsx(n,{label:"标准",value:l.typography.lineHeight.normal,onChange:o=>a("typography","lineHeight",{...l.typography.lineHeight,normal:o})}),e.jsx(n,{label:"宽松",value:l.typography.lineHeight.relaxed,onChange:o=>a("typography","lineHeight",{...l.typography.lineHeight,relaxed:o})})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:i.colors.text},children:"间距配置"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(n,{label:"超小间距",value:l.spacing.xs,onChange:o=>a("spacing","xs",o)}),e.jsx(n,{label:"小间距",value:l.spacing.sm,onChange:o=>a("spacing","sm",o)}),e.jsx(n,{label:"标准间距",value:l.spacing.md,onChange:o=>a("spacing","md",o)}),e.jsx(n,{label:"大间距",value:l.spacing.lg,onChange:o=>a("spacing","lg",o)}),e.jsx(n,{label:"超大间距",value:l.spacing.xl,onChange:o=>a("spacing","xl",o)}),e.jsx(n,{label:"特大间距",value:l.spacing["2xl"],onChange:o=>a("spacing","2xl",o)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:i.colors.text},children:"圆角配置"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(n,{label:"小圆角",value:l.borderRadius.sm,onChange:o=>a("borderRadius","sm",o)}),e.jsx(n,{label:"标准圆角",value:l.borderRadius.md,onChange:o=>a("borderRadius","md",o)}),e.jsx(n,{label:"大圆角",value:l.borderRadius.lg,onChange:o=>a("borderRadius","lg",o)}),e.jsx(n,{label:"超大圆角",value:l.borderRadius.xl,onChange:o=>a("borderRadius","xl",o)}),e.jsx(n,{label:"完全圆角",value:l.borderRadius.full,onChange:o=>a("borderRadius","full",o)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:i.colors.text},children:"阴影配置"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{label:"轻微阴影",value:l.shadows.sm,onChange:o=>a("shadows","sm",o)}),e.jsx(n,{label:"标准阴影",value:l.shadows.md,onChange:o=>a("shadows","md",o)}),e.jsx(n,{label:"明显阴影",value:l.shadows.lg,onChange:o=>a("shadows","lg",o)}),e.jsx(n,{label:"强烈阴影",value:l.shadows.xl,onChange:o=>a("shadows","xl",o)})]})]})]})},qe=()=>{const{currentTheme:l,availableThemes:v,setTheme:i,loadTheme:a,resetToDefault:d}=xe(),[n,b]=m.useState(!1),[o,h]=m.useState(!1),[g,x]=m.useState(!1),[L,$]=m.useState(null),[D,W]=m.useState(null),[R,E]=m.useState(null),[j,O]=m.useState(null),[B,I]=m.useState([]),[Fe,ee]=m.useState(null),[r,c]=m.useState({id:"",name:"",description:"",version:"1.0.0",author:"",colors:l.colors,typography:l.typography,spacing:l.spacing,borderRadius:l.borderRadius,shadows:l.shadows}),J=()=>{c({id:"",name:"",description:"",version:"1.0.0",author:"",colors:l.colors,typography:l.typography,spacing:l.spacing,borderRadius:l.borderRadius,shadows:l.shadows})},se=s=>{try{const t=localStorage.getItem(`theme-versions-${s}`);I(t?JSON.parse(t):[])}catch(t){console.error("Failed to load theme versions:",t),I([])}},V=(s,t)=>{try{const C={id:`${s.id}-${Date.now()}`,themeId:s.id,version:s.version,timestamp:Date.now(),data:{...s},description:t},S=localStorage.getItem(`theme-versions-${s.id}`),y=S?JSON.parse(S):[];y.unshift(C),y.length>20&&y.splice(20),localStorage.setItem(`theme-versions-${s.id}`,JSON.stringify(y)),I(y)}catch(C){console.error("Failed to save theme version:",C)}},le=s=>{try{const t=s.data;localStorage.setItem(`theme-${t.id}`,JSON.stringify(t)),alert(`已回滚到版本 ${s.version}`),window.location.reload()}catch(t){alert("回滚失败："+t)}},U=s=>{ee(s);const t={id:s.id||"preview",name:s.name||"预览主题",description:s.description||"",version:s.version||"1.0.0",author:s.author||void 0,colors:s.colors,typography:s.typography,spacing:s.spacing,borderRadius:s.borderRadius,shadows:s.shadows,components:l.components};a(t)},oe=()=>{J(),b(!0)},ae=s=>{E(s),c({id:s.id,name:s.name,description:s.description,version:s.version,author:s.author||"",colors:s.colors,typography:s.typography,spacing:s.spacing,borderRadius:s.borderRadius,shadows:s.shadows}),h(!0)},re=()=>{if(!r.name.trim()||!r.id.trim()){alert("请填写主题名称和ID");return}if(v.some(t=>t.id===r.id)){alert("主题ID已存在，请使用其他ID");return}const s={id:r.id,name:r.name,description:r.description,version:r.version,author:r.author||void 0,colors:r.colors,typography:r.typography,spacing:r.spacing,borderRadius:r.borderRadius,shadows:r.shadows,components:l.components};try{localStorage.setItem(`theme-${s.id}`,JSON.stringify(s)),V(s,"初始版本"),alert("主题创建成功！"),b(!1),J(),window.location.reload()}catch(t){alert("主题创建失败："+t)}},ne=()=>{if(!R||!r.name.trim()){alert("请填写主题名称");return}const s={...R,name:r.name,description:r.description,version:r.version,author:r.author||void 0,colors:r.colors,typography:r.typography,spacing:r.spacing,borderRadius:r.borderRadius,shadows:r.shadows};try{localStorage.setItem(`theme-${s.id}`,JSON.stringify(s)),V(s,`更新到版本 ${s.version}`),alert("主题更新成功！"),h(!1),E(null),window.location.reload()}catch(t){alert("主题更新失败："+t)}},te=s=>{if(s==="default"){alert("默认主题不能删除");return}try{localStorage.removeItem(`theme-${s}`),alert("主题删除成功！"),$(null),window.location.reload()}catch(t){alert("主题删除失败："+t)}},q=s=>{a(s),alert(`已应用主题：${s.name}`)},ie=s=>{const t=JSON.stringify(s,null,2),C=new Blob([t],{type:"application/json"}),S=URL.createObjectURL(C),y=document.createElement("a");y.href=S,y.download=`theme-${s.id}.json`,y.click(),URL.revokeObjectURL(S)},de=s=>{var S;const t=(S=s.target.files)==null?void 0:S[0];if(!t)return;const C=new FileReader;C.onload=y=>{var Z;try{const N=JSON.parse((Z=y.target)==null?void 0:Z.result);if(N.id&&N.name){if(v.some(he=>he.id===N.id)){alert("主题ID已存在，请修改ID后重新导入");return}localStorage.setItem(`theme-${N.id}`,JSON.stringify(N)),alert("主题导入成功！"),window.location.reload()}else alert("无效的主题文件格式")}catch(N){alert("主题文件解析失败："+N)}},C.readAsText(t)},ce=s=>{const t=l;a(s),O(s),x(!0),setTimeout(()=>{g===!1&&a(t)},100)},A=()=>{x(!1),O(null),a(l)};return e.jsx(ye,{children:e.jsxs(je,{children:[e.jsxs(me,{children:[e.jsxs(ue,{onClick:()=>window.history.back(),children:[e.jsx(ze,{size:16}),"返回"]}),e.jsx(ve,{children:"主题系统管理"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(M,{children:[e.jsx(T,{children:v.length}),e.jsx(H,{children:"可用主题"})]}),e.jsxs(M,{children:[e.jsx(T,{children:l.name}),e.jsx(H,{children:"当前主题"})]}),e.jsxs(M,{children:[e.jsx(T,{children:v.filter(s=>s.id!=="default").length}),e.jsx(H,{children:"自定义主题"})]}),e.jsxs(M,{children:[e.jsx(T,{children:l.version}),e.jsx(H,{children:"当前版本"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[e.jsxs(w,{onClick:oe,children:[e.jsx(Re,{size:16}),"创建主题"]}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsxs(p,{as:"span",children:[e.jsx(Ee,{size:16}),"导入主题"]}),e.jsx("input",{type:"file",accept:".json",onChange:de,className:"hidden"})]}),e.jsxs(p,{onClick:d,children:[e.jsx(Ie,{size:16}),"重置默认"]})]}),e.jsxs(be,{children:[e.jsx(Ce,{children:"主题列表"}),v.length===0?e.jsx(G,{children:e.jsx(K,{children:"暂无可用主题"})}):e.jsx("div",{className:"space-y-4",children:v.map(s=>e.jsxs(Se,{children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Ne,{children:s.name}),e.jsx(fe,{children:s.description}),e.jsxs(we,{children:["版本: ",s.version," | ID: ",s.id,s.author&&` | 作者: ${s.author}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.id===l.id&&e.jsx(ke,{style:{backgroundColor:l.colors.success},children:"当前使用"}),e.jsxs(p,{onClick:()=>ce(s),className:"px-3 py-1 text-sm",children:[e.jsx(pe,{size:14}),"预览"]}),e.jsxs(p,{onClick:()=>q(s),className:"px-3 py-1 text-sm",children:[e.jsx(ge,{size:14}),"应用"]}),e.jsxs(p,{onClick:()=>ie(s),className:"px-3 py-1 text-sm",children:[e.jsx(He,{size:14}),"导出"]}),e.jsxs(p,{onClick:()=>{se(s.id),W(s.id)},className:"px-3 py-1 text-sm",children:[e.jsx(Pe,{size:14}),"版本"]}),s.id!=="default"&&e.jsxs(e.Fragment,{children:[e.jsxs(w,{onClick:()=>ae(s),className:"px-3 py-1 text-sm",children:[e.jsx(Me,{size:14}),"编辑"]}),e.jsxs(Q,{onClick:()=>$(s.id),className:"px-3 py-1 text-sm",children:[e.jsx(Te,{size:14}),"删除"]})]})]})]},s.id))})]}),n&&e.jsxs(k,{className:"max-w-4xl",hasFixedFooter:!0,children:[e.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[e.jsx(z,{children:"创建新主题"}),e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:l.colors.text},children:"基本信息"}),e.jsxs("div",{children:[e.jsx(u,{children:"主题标识 *"}),e.jsx(f,{value:r.id,onChange:s=>c({...r,id:s.target.value}),placeholder:"例如: my-custom-theme"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"主题名称 *"}),e.jsx(f,{value:r.name,onChange:s=>c({...r,name:s.target.value}),placeholder:"例如: 我的自定义主题"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"主题描述"}),e.jsx(X,{value:r.description,onChange:s=>c({...r,description:s.target.value}),placeholder:"描述这个主题的特点...",rows:3})]}),e.jsxs("div",{children:[e.jsx(u,{children:"版本号"}),e.jsx(f,{value:r.version,onChange:s=>c({...r,version:s.target.value}),placeholder:"1.0.0"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"作者"}),e.jsx(f,{value:r.author,onChange:s=>c({...r,author:s.target.value}),placeholder:"作者名称"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:l.colors.text},children:"详细配置"}),e.jsx(_,{formData:r,onFormDataChange:s=>{c({...r,...s}),U({...r,...s})},currentTheme:l})]})]})]}),e.jsxs(Y,{children:[e.jsx(p,{onClick:()=>{b(!1),a(l)},children:"取消"}),e.jsx(w,{onClick:re,children:"创建主题"})]})]}),o&&R&&e.jsxs(k,{className:"max-w-4xl",hasFixedFooter:!0,children:[e.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[e.jsxs(z,{children:["编辑主题: ",R.name]}),e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:l.colors.text},children:"基本信息"}),e.jsxs("div",{children:[e.jsx(u,{children:"主题名称 *"}),e.jsx(f,{value:r.name,onChange:s=>c({...r,name:s.target.value}),placeholder:"主题名称"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"主题描述"}),e.jsx(X,{value:r.description,onChange:s=>c({...r,description:s.target.value}),placeholder:"主题描述",rows:3})]}),e.jsxs("div",{children:[e.jsx(u,{children:"版本号"}),e.jsx(f,{value:r.version,onChange:s=>c({...r,version:s.target.value}),placeholder:"版本号"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"作者"}),e.jsx(f,{value:r.author,onChange:s=>c({...r,author:s.target.value}),placeholder:"作者名称"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:l.colors.text},children:"详细配置"}),e.jsx(_,{formData:r,onFormDataChange:s=>{c({...r,...s}),U({...r,...s})},currentTheme:l})]})]})]}),e.jsxs(Y,{children:[e.jsx(p,{onClick:()=>{h(!1),E(null),a(l)},children:"取消"}),e.jsx(w,{onClick:ne,children:"保存更改"})]})]}),g&&j&&e.jsx(k,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs(z,{children:["主题预览: ",j.name]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm mb-4",style:{color:l.colors.textSecondary},children:j.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",style:{color:l.colors.text},children:"主要颜色"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:j.colors.primary}}),e.jsx("span",{className:"text-sm",children:"主色"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:j.colors.secondary}}),e.jsx("span",{className:"text-sm",children:"次色"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:j.colors.background}}),e.jsx("span",{className:"text-sm",children:"背景"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",style:{color:l.colors.text},children:"字体设置"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["字体: ",j.typography.fontFamily]}),e.jsxs("div",{children:["基础大小: ",j.typography.fontSize.base]}),e.jsxs("div",{children:["行高: ",j.typography.lineHeight.normal]})]})]})]})]}),e.jsxs(F,{children:[e.jsx(p,{onClick:A,children:"关闭预览"}),e.jsx(w,{onClick:()=>{q(j),A()},children:"应用主题"})]})]})}),D&&e.jsx(k,{children:e.jsxs("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 3rem)"},children:[e.jsx(z,{children:"版本历史"}),e.jsx("div",{className:"mt-4",children:B.length===0?e.jsx(G,{children:e.jsx(K,{children:"暂无版本历史"})}):e.jsx("div",{className:"space-y-3",children:B.map(s=>e.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:l.colors.surface,borderColor:l.colors.border},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium",style:{color:l.colors.text},children:["版本 ",s.version]}),e.jsx("p",{className:"text-sm",style:{color:l.colors.textSecondary},children:new Date(s.timestamp).toLocaleString()}),s.description&&e.jsx("p",{className:"text-sm mt-1",style:{color:l.colors.textSecondary},children:s.description})]}),e.jsxs(p,{onClick:()=>le(s),className:"px-3 py-1 text-sm",children:[e.jsx($e,{size:14}),"回滚"]})]})},s.id))})}),e.jsx(F,{children:e.jsx(p,{onClick:()=>W(null),children:"关闭"})})]})}),L&&e.jsx(k,{children:e.jsxs("div",{className:"p-6",children:[e.jsx(z,{children:"确认删除"}),e.jsx("p",{className:"mt-4",style:{color:l.colors.textSecondary},children:"确定要删除这个主题吗？此操作不可撤销。"}),e.jsxs(F,{children:[e.jsx(p,{onClick:()=>$(null),children:"取消"}),e.jsx(Q,{onClick:()=>te(L),children:"确认删除"})]})]})})]})})};export{qe as default};
