import{c as v,q as f,e as y,r as a,K as w,M as A,o as S,j as e,Q as n,U as D}from"./index-BCw3XfMH.js";import{A as z}from"./arrow-left-C4yDye0w.js";import{P as L}from"./plus-B-9IxP9O.js";import{C as B}from"./calendar-B4Glwse2.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=v("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),P=()=>{const{id:i}=f(),d=y(),[t,h]=a.useState(null),[l,g]=a.useState([]),[r,j]=a.useState([]),[p,x]=a.useState(!0);a.useEffect(()=>{i&&b(i)},[i]);const b=s=>{try{console.log("加载板块数据:",s);const m=w().find(c=>c.id===s);if(!m){console.error("板块不存在:",s),d("/community");return}h(m);const N=A().filter(c=>c.boardId===s);g(N);const u=S().slice(0,5);j(u),x(!1)}catch(o){console.error("加载板块数据失败:",o),x(!1)}};return p?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{children:"加载中..."})]})}):t?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsxs("button",{onClick:()=>d(-1),className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[e.jsx(z,{size:16}),"返回"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-4xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:t.name}),e.jsx("p",{className:"text-gray-400",children:t.description})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:l.length}),e.jsx("div",{className:"text-gray-400",children:"主题数量"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.length}),e.jsx("div",{className:"text-gray-400",children:"相关文章"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),e.jsx("div",{className:"text-gray-400",children:"今日讨论"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),e.jsx("div",{className:"text-gray-400",children:"在线用户"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"主题列表"}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(L,{size:16}),"创建主题"]})]}),l.length===0?e.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[e.jsx("p",{className:"text-gray-400 mb-4",children:"暂无主题"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"创建第一个主题"})]}):e.jsx("div",{className:"space-y-4",children:l.map(s=>e.jsx("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:e.jsx(n,{to:`/topic/${s.id}`,className:"hover:text-blue-400 transition-colors",children:s.name})}),e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{size:14}),s.articleCount," 篇文章"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{size:14}),new Date(s.createdAt).toLocaleDateString()]})]})]})]})})},s.id))})]}),e.jsxs("div",{className:"space-y-6",children:[r.length>0&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"最新文章"}),e.jsx("div",{className:"space-y-3",children:r.map(s=>e.jsxs("div",{className:"border-b border-gray-700 pb-3 last:border-b-0",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-1 line-clamp-2",children:e.jsx(n,{to:`/article/${s.id}`,className:"hover:text-blue-400 transition-colors",children:s.title})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(D,{size:12}),e.jsx("span",{children:s.author}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString()})]})]},s.id))})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"板块信息"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"创建时间"}),e.jsx("span",{className:"text-white",children:new Date(t.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"主题数量"}),e.jsx("span",{className:"text-white",children:l.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"状态"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.isActive?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:t.isActive?"活跃":"已关闭"})]})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"板块不存在"}),e.jsx(n,{to:"/community",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"返回社区首页"})]})})};export{P as default};
