import{h,r as a,j as e,W as m,A as u,Z as g}from"./index-BCw3XfMH.js";const p=()=>{const{state:l,getUserDisplayName:c,isGuest:i}=h(),[s,d]=a.useState(null),r=()=>{const t=m(),x=u(),n={authState:l,currentUser:t,allUsers:x,isGuest:i(),getUserDisplayName:c(),isAuthenticated:l.isAuthenticated};d(n),console.log("状态检查:",n)},o=()=>{try{const t=g();console.log("创建游客用户:",t),r()}catch(t){console.error("创建游客用户失败:",t)}};return a.useEffect(()=>{r()},[]),e.jsx("div",{className:"min-h-screen bg-gray-900 text-white pt-20",children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"游客用户测试"}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"操作"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:r,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"检查状态"}),e.jsx("button",{onClick:o,className:"w-full py-3 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"手动创建游客用户"})]})]}),s&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"当前状态"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"AuthContext 状态:"}),e.jsx("pre",{className:"bg-gray-700 p-4 rounded text-sm overflow-auto",children:JSON.stringify(s.authState,null,2)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"当前用户:"}),e.jsx("pre",{className:"bg-gray-700 p-4 rounded text-sm overflow-auto",children:JSON.stringify(s.currentUser,null,2)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"所有用户:"}),e.jsx("pre",{className:"bg-gray-700 p-4 rounded text-sm overflow-auto max-h-96",children:JSON.stringify(s.allUsers,null,2)})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"快速信息:"}),e.jsxs("div",{className:"bg-gray-700 p-4 rounded space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"是否游客:"})," ",s.isGuest?"是":"否"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"显示名称:"})," ",s.getUserDisplayName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"是否已认证:"})," ",s.isAuthenticated?"是":"否"]})]})]})})]})]})]})})})};export{p as default};
