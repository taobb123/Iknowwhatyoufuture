import{c as i,b as A,r,g as C,j as e,d as T,e as M,C as y,H as I,S as L}from"./index-DSnetD3q.js";import{S as G}from"./share-2-lXHm__eh.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=i("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=i("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=i("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=i("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=i("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Q=()=>{const d=A(),[l,h]=r.useState(""),[n,g]=r.useState("全部"),[o,f]=r.useState("最新"),[u,v]=r.useState([]),[j,p]=r.useState([]),[N,b]=r.useState([]),[w,k]=r.useState([]);r.useEffect(()=>{if(d.state){const s=d.state;s.searchQuery&&h(s.searchQuery),s.selectedCategory&&g(s.selectedCategory)}},[d.state]),r.useEffect(()=>{const s=[{id:1,title:"React游戏开发完整攻略",content:"从零开始学习React游戏开发，包括状态管理、组件设计、性能优化等核心概念...",author:"游戏大师",gameId:1,gameTitle:"React Racing",category:"前端开发",likes:156,views:2340,comments:23,createdAt:"2024-01-15",tags:["React","游戏开发","JavaScript"]},{id:2,title:"TypeScript在游戏项目中的应用",content:"详细介绍如何在游戏开发中使用TypeScript，提升代码质量和开发效率...",author:"代码猎人",gameId:2,gameTitle:"TypeScript Puzzle",category:"前端开发",likes:89,views:1567,comments:12,createdAt:"2024-01-12",tags:["TypeScript","游戏开发","类型安全"]},{id:3,title:"Vue.js游戏组件设计模式",content:"探索Vue.js在游戏开发中的最佳实践，包括组件通信、状态管理等...",author:"Vue专家",gameId:3,gameTitle:"Vue Adventure",category:"前端开发",likes:67,views:1234,comments:8,createdAt:"2024-01-10",tags:["Vue","组件设计","游戏开发"]},{id:4,title:"Node.js游戏服务器搭建指南",content:"使用Node.js构建多人游戏服务器，包括WebSocket通信、房间管理等...",author:"后端工程师",gameId:4,gameTitle:"Multiplayer Battle",category:"后端开发",likes:134,views:1890,comments:19,createdAt:"2024-01-08",tags:["Node.js","WebSocket","多人游戏"]},{id:5,title:"Python游戏AI算法实现",content:"使用Python实现游戏AI，包括路径寻找、决策树、神经网络等算法...",author:"AI研究员",gameId:5,gameTitle:"AI Strategy",category:"AI/ML",likes:203,views:3456,comments:31,createdAt:"2024-01-05",tags:["Python","AI","算法","游戏AI"]}];v(s),p(s);const t=C.map(a=>({id:a.id,title:a.title,description:a.description,category:a.category||"未分类",rating:a.likes||0,thumbnail:a.image||"/car-racing.webp"}));b([...t].sort((a,x)=>x.rating-a.rating).slice(0,10)),k([...t].sort(()=>Math.random()-.5).slice(0,10))},[]),r.useEffect(()=>{let s=u;switch(n!=="全部"&&(s=s.filter(t=>t.category===n)),l.trim()&&(s=s.filter(t=>t.title.toLowerCase().includes(l.toLowerCase())||t.content.toLowerCase().includes(l.toLowerCase())||t.tags.some(a=>a.toLowerCase().includes(l.toLowerCase())))),o){case"最新":s.sort((t,a)=>new Date(a.createdAt).getTime()-new Date(t.createdAt).getTime());break;case"热门":s.sort((t,a)=>a.likes-t.likes);break;case"最多浏览":s.sort((t,a)=>a.views-t.views);break;case"最多评论":s.sort((t,a)=>a.comments-t.comments);break}p(s)},[u,n,l,o]);const S=["全部","前端开发","后端开发","AI/ML","游戏设计","工具使用"],z=s=>{const t=new Date(s),x=Math.abs(new Date().getTime()-t.getTime()),c=Math.ceil(x/(1e3*60*60*24));return c===1?"昨天":c<7?`${c}天前`:c<30?`${Math.ceil(c/7)}周前`:t.toLocaleDateString("zh-CN")};return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[e.jsx("div",{className:"bg-gray-800 p-4 border-b border-gray-700",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"🎮 游戏攻略社区"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"bg-blue-600 px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(R,{size:20}),"发布攻略"]}),e.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center",children:e.jsx(m,{size:20})})]})]})}),e.jsxs("div",{className:"flex-1 max-w-7xl mx-auto grid grid-cols-12 gap-6 p-6 w-full",children:[e.jsxs("div",{className:"col-span-3 bg-gray-800 rounded-lg p-4 overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(m,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"游戏玩家"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Lv.5 攻略达人"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"12"}),e.jsx("div",{className:"text-gray-400",children:"攻略"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"156"}),e.jsx("div",{className:"text-gray-400",children:"点赞"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"23"}),e.jsx("div",{className:"text-gray-400",children:"收藏"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:"攻略分类"}),S.map(s=>e.jsx("button",{onClick:()=>g(s),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${n===s?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:s},s))]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:"热门话题"}),e.jsx("div",{className:"space-y-2",children:["React游戏开发","TypeScript技巧","Vue组件设计","Node.js服务器"].map(s=>e.jsxs("div",{className:"text-sm text-gray-300 hover:text-white cursor-pointer",children:["#",s]},s))})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"搜索攻略、游戏、作者...",value:l,onChange:s=>h(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:o,onChange:s=>f(s.target.value),className:"px-4 py-2 bg-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"最新",children:"最新"}),e.jsx("option",{value:"热门",children:"热门"}),e.jsx("option",{value:"最多浏览",children:"最多浏览"}),e.jsx("option",{value:"最多评论",children:"最多评论"})]})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["找到 ",j.length," 篇攻略"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-4",children:j.map(s=>e.jsx("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center",children:e.jsx(M,{size:24,className:"text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold hover:text-blue-400 cursor-pointer",children:s.title}),e.jsx("span",{className:"px-2 py-1 bg-blue-600 text-xs rounded",children:s.category})]}),e.jsx("p",{className:"text-gray-400 mb-3 line-clamp-2",children:s.content}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{size:16}),s.author]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(y,{size:16}),z(s.createdAt)]}),e.jsx("span",{className:"text-blue-400",children:s.gameTitle})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("button",{className:"flex items-center gap-1 hover:text-red-400 transition-colors",children:[e.jsx(I,{size:16}),s.likes]}),e.jsxs("button",{className:"flex items-center gap-1 hover:text-blue-400 transition-colors",children:[e.jsx(D,{size:16}),s.comments]}),e.jsxs("button",{className:"flex items-center gap-1 hover:text-green-400 transition-colors",children:[e.jsx(E,{size:16}),s.views]}),e.jsxs("button",{className:"flex items-center gap-1 hover:text-yellow-400 transition-colors",children:[e.jsx(G,{size:16}),"分享"]})]}),e.jsx("div",{className:"flex gap-1",children:s.tags.map(t=>e.jsxs("span",{className:"px-2 py-1 bg-gray-700 text-xs rounded",children:["#",t]},t))})]})]})]})},s.id))})]}),e.jsxs("div",{className:"col-span-3 space-y-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(P,{size:20,className:"text-red-500"}),e.jsx("h3",{className:"font-semibold",children:"热门游戏"})]}),e.jsx("div",{className:"space-y-3",children:N.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-700 cursor-pointer",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-10 h-10 rounded object-cover",onError:a=>{a.target.src="/car-racing.webp"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:s.title}),e.jsx("div",{className:"text-xs text-gray-400",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-yellow-400",children:[e.jsx(L,{size:12}),s.rating.toFixed(1)]})]},s.id))})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(y,{size:20,className:"text-green-500"}),e.jsx("h3",{className:"font-semibold",children:"最新游戏"})]}),e.jsx("div",{className:"space-y-3",children:w.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-700 cursor-pointer",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center text-sm font-bold",children:t+1}),e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-10 h-10 rounded object-cover",onError:a=>{a.target.src="/car-racing.webp"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:s.title}),e.jsx("div",{className:"text-xs text-gray-400",children:s.category})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.floor(Math.random()*7)+1,"天前"]})]},s.id))})]})]})]})]})};export{Q as default};
