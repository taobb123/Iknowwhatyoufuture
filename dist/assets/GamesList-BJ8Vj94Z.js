import{c as z,h as B,u as R,a as V,R as A,r as m,j as s,d as O,b as Q}from"./index-CNCBtjWD.js";import{S as q}from"./StyledGameCard-ByJhv5ss.js";import{B as D}from"./Breadcrumb-Bzf2YAEk.js";import{u as H,c as J,d as _,a as K,S as U,G as W}from"./useGameData-BLvu6TrE.js";import{L as X}from"./list-D6PL68Jv.js";import{C as Y}from"./chevron-right-CiGUxQej.js";import"./home-CYAcrrcZ.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ce=()=>{const C=B(),{currentTheme:e}=R(),{t}=V(),[a,y]=A.useState("grid"),[r,p]=m.useState(1),[i]=m.useState(16),[l,N]=m.useState(1),[f,k]=m.useState([]),{filteredGames:d,isLoading:S,error:b}=H(),{searchQuery:u,setSearchQuery:w,clearFilters:j,hasActiveFilters:T}=J(),{sortOptions:M,currentSort:v,setSortBy:P}=_(),{toggleFavorite:G}=K(),L=o=>{C(`/games/${o}`)},E=o=>{G(o)};m.useEffect(()=>{const o=Math.ceil(d.length/i);N(o);const c=(r-1)*i,n=c+i,g=d.slice(c,n);k(g)},[d,r,i]),m.useEffect(()=>{p(1)},[u,v]);const x=o=>{p(o),window.scrollTo({top:0,behavior:"smooth"})},F=()=>{r>1&&x(r-1)},I=()=>{r<l&&x(r+1)},$=()=>{const o=[];if(l<=5)for(let n=1;n<=l;n++)o.push(n);else{const n=Math.max(1,r-2),g=Math.min(l,n+5-1);for(let h=n;h<=g;h++)o.push(h)}return o};return s.jsxs("div",{className:"min-h-screen text-white",style:{backgroundColor:e.colors.background},children:[s.jsx("div",{className:"pt-16"}),s.jsx(U,{title:`${t("games.title")} - å…è´¹åœ¨çº¿æ¸¸æˆ | Iknowwhatyoufuture`,description:"æµè§ˆæ‰€æœ‰çƒ­é—¨å…è´¹åœ¨çº¿æ¸¸æˆï¼ŒåŒ…å«åŠ¨ä½œã€å†’é™©ã€ç›Šæ™ºã€ä¼‘é—²ç­‰å¤šç§ç±»åž‹ï¼Œè®©æ‚¨äº«å—æ— å¿§æ— è™‘çš„æ¸¸æˆæ—¶å…‰ï¼",keywords:"çƒ­é—¨æ¸¸æˆ,åœ¨çº¿æ¸¸æˆ,å…è´¹æ¸¸æˆ,æµè§ˆå™¨æ¸¸æˆ,åŠ¨ä½œæ¸¸æˆ,å†’é™©æ¸¸æˆ,ç›Šæ™ºæ¸¸æˆ,ä¼‘é—²æ¸¸æˆ,æ— å¿§æ— è™‘",canonical:"https://streetracer.online/games"}),s.jsx("div",{className:"border-b",style:{backgroundColor:e.colors.surface,borderColor:e.colors.border},children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsx(D,{items:[{label:t("navigation.home"),href:"/",icon:s.jsx("span",{children:"ðŸ "})},{label:t("games.title")}]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:e.colors.text},children:t("games.title")}),s.jsx("p",{className:"text-lg",style:{color:e.colors.textSecondary},children:t("games.noGamesFound")}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",style:{color:e.colors.textSecondary},children:[s.jsx("span",{children:t("games.foundGamesInfo",{count:d.length,currentPage:r,totalPages:l})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{children:[t("games.sortBy"),":"]}),s.jsx("select",{value:v,onChange:o=>P(o.target.value),className:"px-3 py-1 rounded-lg border focus:outline-none",style:{backgroundColor:e.colors.surface,color:e.colors.text,borderColor:e.colors.border},children:M.map(o=>s.jsx("option",{value:o.value,children:o.label},o.value))})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",placeholder:t("search.placeholder"),value:u,onChange:o=>w(o.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-1",style:{backgroundColor:e.colors.surface,borderColor:e.colors.border,color:e.colors.text,border:`1px solid ${e.colors.border}`,"--placeholder-color":e.colors.textSecondary}}),s.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2",size:20,style:{color:e.colors.textSecondary}})]}),s.jsxs("div",{className:"flex rounded-lg p-1",style:{backgroundColor:e.colors.surface},children:[s.jsx("button",{onClick:()=>y("grid"),className:"p-2 rounded transition-colors",style:{backgroundColor:a==="grid"?e.colors.primary:"transparent",color:a==="grid"?e.colors.text:e.colors.textSecondary},onMouseEnter:o=>{a!=="grid"&&(o.currentTarget.style.color=e.colors.text)},onMouseLeave:o=>{a!=="grid"&&(o.currentTarget.style.color=e.colors.textSecondary)},children:s.jsx(Q,{size:20})}),s.jsx("button",{onClick:()=>y("list"),className:"p-2 rounded transition-colors",style:{backgroundColor:a==="list"?e.colors.primary:"transparent",color:a==="list"?e.colors.text:e.colors.textSecondary},onMouseEnter:o=>{a!=="list"&&(o.currentTarget.style.color=e.colors.text)},onMouseLeave:o=>{a!=="list"&&(o.currentTarget.style.color=e.colors.textSecondary)},children:s.jsx(X,{size:20})})]})]}),T&&s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:e.colors.textSecondary},children:"å½“å‰ç­›é€‰ï¼š"}),u&&s.jsxs("span",{className:"px-2 py-1 text-white text-sm rounded",style:{backgroundColor:e.colors.primary},children:["æœç´¢: ",u]}),s.jsx("button",{onClick:j,className:"px-2 py-1 text-white text-sm rounded transition-colors",style:{backgroundColor:e.colors.surface},onMouseEnter:o=>{o.currentTarget.style.backgroundColor=e.colors.hover},onMouseLeave:o=>{o.currentTarget.style.backgroundColor=e.colors.surface},children:t("search.clearSearch")})]})]}),b&&s.jsx("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:`1px solid ${e.colors.error}`},children:s.jsxs("p",{style:{color:e.colors.error},children:["åŠ è½½æ¸¸æˆæ—¶å‡ºçŽ°é”™è¯¯: ",b]})}),S?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 rounded-full animate-spin",style:{borderColor:`${e.colors.textSecondary}20`,borderTopColor:e.colors.text}}),s.jsx("p",{className:"text-sm",style:{color:e.colors.textSecondary},children:t("common.loading")})]})}):f.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",style:{color:e.colors.textSecondary},children:"ðŸŽ®"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:e.colors.text},children:t("games.noGamesFound")}),s.jsx("p",{className:"mb-6",style:{color:e.colors.textSecondary},children:u?"æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ¸¸æˆ":"æš‚æ—¶æ²¡æœ‰æ¸¸æˆ"}),u&&s.jsx("button",{onClick:j,className:"text-white px-6 py-2 rounded-lg transition-colors",style:{backgroundColor:e.colors.primary},onMouseEnter:o=>{o.currentTarget.style.backgroundColor=e.colors.hover},onMouseLeave:o=>{o.currentTarget.style.backgroundColor=e.colors.primary},children:t("search.clearSearch")})]}):s.jsx("div",{className:a==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:f.map(o=>s.jsx(W,{children:s.jsx(q,{game:o,variant:a==="list"?"detailed":"homepage",onPlay:L,onToggleFavorite:E,showRating:!0,showControls:a==="list"})},o.id))}),l>1&&s.jsxs("div",{className:"mt-8 rounded-lg p-6",style:{backgroundColor:e.colors.surface},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm",style:{color:e.colors.textSecondary},children:["æ˜¾ç¤ºç¬¬ ",(r-1)*i+1," - ",Math.min(r*i,d.length)," ä¸ªæ¸¸æˆï¼Œå…± ",d.length," ä¸ªæ¸¸æˆ"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:F,disabled:r===1,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",style:{backgroundColor:e.colors.surface,color:r===1?e.colors.textSecondary:e.colors.text,cursor:r===1?"not-allowed":"pointer",opacity:r===1?.5:1},onMouseEnter:o=>{r!==1&&(o.currentTarget.style.backgroundColor=e.colors.hover)},onMouseLeave:o=>{r!==1&&(o.currentTarget.style.backgroundColor=e.colors.surface)},children:[s.jsx(Z,{size:16}),t("common.previous")]}),s.jsx("div",{className:"flex items-center gap-1",children:$().map(o=>s.jsx("button",{onClick:()=>x(o),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors",style:{backgroundColor:r===o?e.colors.primary:e.colors.surface,color:e.colors.text},onMouseEnter:c=>{r!==o&&(c.currentTarget.style.backgroundColor=e.colors.hover)},onMouseLeave:c=>{r!==o&&(c.currentTarget.style.backgroundColor=e.colors.surface)},children:o},o))}),s.jsxs("button",{onClick:I,disabled:r===l,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",style:{backgroundColor:e.colors.surface,color:r===l?e.colors.textSecondary:e.colors.text,cursor:r===l?"not-allowed":"pointer",opacity:r===l?.5:1},onMouseEnter:o=>{r!==l&&(o.currentTarget.style.backgroundColor=e.colors.hover)},onMouseLeave:o=>{r!==l&&(o.currentTarget.style.backgroundColor=e.colors.surface)},children:[t("common.next"),s.jsx(Y,{size:16})]})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 pt-4 border-t",style:{borderColor:e.colors.border},children:[s.jsxs("span",{className:"text-sm",style:{color:e.colors.textSecondary},children:[t("games.quickJump"),":"]}),s.jsx("select",{value:r,onChange:o=>x(Number(o.target.value)),className:"px-3 py-1 rounded text-sm focus:outline-none",style:{backgroundColor:e.colors.surface,color:e.colors.text,border:`1px solid ${e.colors.border}`},children:Array.from({length:l},(o,c)=>c+1).map(o=>s.jsx("option",{value:o,children:t("games.pageNumber",{page:o})},o))})]})]})]})]})};export{ce as default};
