import{c as f,v,f as w,u as k,r as c,Z as S,Y as T,s as C,j as e,a1 as o,U as A,E as L}from"./index-DjexH7CO.js";import{A as M}from"./arrow-left-U28xwuki.js";import{P as E}from"./plus-CsLKypcW.js";import{C as z}from"./calendar-DcrdUgBW.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=f("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),q=()=>{const{id:n}=v(),x=w(),{currentTheme:s}=k(),[r,u]=c.useState(null),[l,g]=c.useState(null),[a,j]=c.useState([]),[y,m]=c.useState(!0);c.useEffect(()=>{n&&p(n)},[n]);const p=t=>{try{console.log("加载主题数据:",t);const i=S().find(d=>d.id===t);if(!i){console.error("主题不存在:",t),x("/community");return}u(i);const b=T().find(d=>d.id===i.boardId);g(b);const N=C();j(N.slice(0,10)),m(!1)}catch(h){console.error("加载主题数据失败:",h),m(!1)}};return y?e.jsx("div",{className:"min-h-screen text-white flex items-center justify-center",style:{backgroundColor:s.colors.background},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:s.colors.textSecondary}}),e.jsx("p",{style:{color:s.colors.text},children:"加载中..."})]})}):r?e.jsx("div",{className:"min-h-screen text-white pt-20",style:{backgroundColor:s.colors.background},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm mb-6",style:{color:s.colors.textSecondary},children:[e.jsx(o,{to:"/community",className:"transition-colors",style:{color:s.colors.textSecondary},onMouseEnter:t=>{t.currentTarget.style.color=s.colors.text},onMouseLeave:t=>{t.currentTarget.style.color=s.colors.textSecondary},children:"社区首页"}),e.jsx("span",{children:"›"}),l&&e.jsxs(e.Fragment,{children:[e.jsx(o,{to:`/board/${l.id}`,className:"transition-colors",style:{color:s.colors.textSecondary},onMouseEnter:t=>{t.currentTarget.style.color=s.colors.text},onMouseLeave:t=>{t.currentTarget.style.color=s.colors.textSecondary},children:l.name}),e.jsx("span",{children:"›"})]}),e.jsx("span",{style:{color:s.colors.text},children:r.name})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsxs("button",{onClick:()=>x(-1),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:s.colors.surface},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=s.colors.hover},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=s.colors.surface},children:[e.jsx(M,{size:16}),"返回"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-4xl",children:r.icon}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",style:{color:s.colors.text},children:r.name}),e.jsx("p",{style:{color:s.colors.textSecondary},children:r.description})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:s.colors.surface},children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:s.colors.text},children:a.length}),e.jsx("div",{style:{color:s.colors.textSecondary},children:"文章数量"})]}),e.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:s.colors.surface},children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:s.colors.text},children:"0"}),e.jsx("div",{style:{color:s.colors.textSecondary},children:"今日新增"})]}),e.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:s.colors.surface},children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:s.colors.text},children:"0"}),e.jsx("div",{style:{color:s.colors.textSecondary},children:"总浏览"})]}),e.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:s.colors.surface},children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:s.colors.text},children:"0"}),e.jsx("div",{style:{color:s.colors.textSecondary},children:"总点赞"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"文章列表"}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(E,{size:16}),"发布文章"]})]}),a.length===0?e.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[e.jsx("p",{className:"text-gray-400 mb-4",children:"暂无文章"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"发布第一篇文章"})]}):e.jsx("div",{className:"space-y-4",children:a.map(t=>e.jsx("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:e.jsx(o,{to:`/article/${t.id}`,className:"hover:text-blue-400 transition-colors",children:t.title})}),e.jsxs("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:[t.content.substring(0,150),"..."]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{size:14}),t.author]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(z,{size:14}),new Date(t.createdAt).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{size:14}),"0 浏览"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{size:14}),"0 点赞"]})]})]})})},t.id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"主题信息"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"所属板块"}),e.jsx("span",{className:"text-white",children:l?e.jsx(o,{to:`/board/${l.id}`,className:"hover:text-blue-400 transition-colors",children:l.name}):"未知板块"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"创建时间"}),e.jsx("span",{className:"text-white",children:new Date(r.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"文章数量"}),e.jsx("span",{className:"text-white",children:a.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"状态"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.isActive?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:r.isActive?"活跃":"已关闭"})]})]})]}),l&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"相关主题"}),e.jsx("div",{className:"space-y-2",children:e.jsxs(o,{to:`/board/${l.id}`,className:"block text-sm text-gray-400 hover:text-white transition-colors",children:["查看 ",l.name," 的所有主题"]})})]})]})]})]})}):e.jsx("div",{className:"min-h-screen text-white flex items-center justify-center",style:{backgroundColor:s.colors.background},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",style:{color:s.colors.text},children:"主题不存在"}),e.jsx(o,{to:"/community",className:"px-4 py-2 text-white rounded-lg transition-colors",style:{backgroundColor:s.colors.primary},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=s.colors.hover},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=s.colors.primary},children:"返回社区首页"})]})})};export{q as default};
